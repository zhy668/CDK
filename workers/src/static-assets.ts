/**
 * é™æ€èµ„æºæ–‡ä»¶
 * è‡ªåŠ¨ç”Ÿæˆï¼Œè¯·å‹¿æ‰‹åŠ¨ç¼–è¾‘
 */

export interface StaticAsset {
    content: string;
    mimeType: string;
}

export const STATIC_ASSETS: Record<string, StaticAsset> = {
  '/': {
    content: "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>CDK - åœ¨çº¿å¡å¯†åˆ†å‘ç³»ç»Ÿ</title>\n    <link rel=\"stylesheet\" href=\"styles/main.css?v=3.2\">\n</head>\n<body>\n    <div id=\"app\">\n        <!-- Navigation -->\n        <nav class=\"navbar\">\n            <div class=\"nav-container\">\n                <div class=\"nav-brand\">\n                    <h1>CDK å¡å¯†åˆ†å‘ç³»ç»Ÿ</h1>\n                </div>\n                <div class=\"nav-menu\">\n                    <button id=\"nav-home\" class=\"nav-btn\" style=\"display: none;\">ä¸»é¡µ</button>\n                    <button id=\"nav-admin\" class=\"nav-btn\" style=\"display: none;\">ç®¡ç†å‘˜</button>\n                    <div id=\"nav-user-info\" class=\"user-info\">\n                        <!-- User info will be injected here by auth.js -->\n                    </div>\n                </div>\n            </div>\n        </nav>\n\n        <!-- Auth Error Message -->\n        <div id=\"auth-error\" class=\"auth-error\" style=\"display: none;\"></div>\n\n        <!-- Main Content -->\n        <main class=\"main-content\">\n            <!-- Login Page -->\n            <div id=\"login-page\" class=\"page\">\n                <div class=\"login-container\">\n                    <div class=\"login-card\">\n                        <div class=\"login-header\">\n                            <h2>æ¬¢è¿ä½¿ç”¨ CDK å¡å¯†åˆ†å‘ç³»ç»Ÿ</h2>\n                            <p>è¯·ä½¿ç”¨ Linux.do è´¦å·ç™»å½•</p>\n                        </div>\n                        <div class=\"login-body\">\n                            <div class=\"login-icon\">\n                                <svg width=\"80\" height=\"80\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z\" fill=\"currentColor\"/>\n                                </svg>\n                            </div>\n                            <div id=\"login-user-info\" class=\"login-user-info\">\n                                <!-- Login button will be injected here by auth.js -->\n                            </div>\n                            <div class=\"login-footer\">\n                                <p class=\"login-hint\">ç™»å½•åå³å¯åˆ›å»ºå’Œç®¡ç†å¡å¯†é¡¹ç›®</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Home Page -->\n            <div id=\"home-page\" class=\"page\">\n                <div class=\"hero\">\n                    <h2>æ¬¢è¿ä½¿ç”¨ CDK å¡å¯†åˆ†å‘ç³»ç»Ÿ</h2>\n                    <p>ç®€å•ã€å®‰å…¨ã€é«˜æ•ˆçš„åœ¨çº¿å¡å¯†åˆ†å‘è§£å†³æ–¹æ¡ˆ</p>\n                    <div class=\"hero-actions\">\n                        <button id=\"btn-create-project\" class=\"btn btn-primary\">åˆ›å»ºæ–°é¡¹ç›®</button>\n                        <button id=\"btn-manage-projects\" class=\"btn btn-secondary\">ç®¡ç†é¡¹ç›®</button>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Create Project Page -->\n            <div id=\"create-page\" class=\"page\">\n                <div class=\"page-header\">\n                    <h2>åˆ›å»ºæ–°é¡¹ç›®</h2>\n                    <button id=\"btn-back-home\" class=\"btn btn-secondary\">è¿”å›é¦–é¡µ</button>\n                </div>\n                \n                <form id=\"create-form\" class=\"form-container\">\n                    <div class=\"form-group\">\n                        <label for=\"project-name\">é¡¹ç›®åç§° *</label>\n                        <input type=\"text\" id=\"project-name\" required maxlength=\"50\" \n                               placeholder=\"è¯·è¾“å…¥é¡¹ç›®åç§°ï¼ˆ1-50å­—ç¬¦ï¼‰\">\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"project-password\">é¡¹ç›®å¯†ç  *</label>\n                        <input type=\"password\" id=\"project-password\" required minlength=\"6\" maxlength=\"20\"\n                               placeholder=\"è¯·è¾“å…¥é¡¹ç›®å¯†ç ï¼ˆ6-20å­—ç¬¦ï¼‰\">\n                        <small class=\"form-hint\">ç”¨æˆ·é¢†å–å¡å¯†æ—¶éœ€è¦è¾“å…¥çš„å¯†ç </small>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"admin-password\">ç®¡ç†å¯†ç  *</label>\n                        <input type=\"password\" id=\"admin-password\" required minlength=\"6\" maxlength=\"20\"\n                               placeholder=\"è¯·è¾“å…¥ç®¡ç†å¯†ç ï¼ˆ6-20å­—ç¬¦ï¼‰\">\n                        <small class=\"form-hint\">ç”¨äºç¼–è¾‘å’Œåˆ é™¤é¡¹ç›®çš„ç®¡ç†å¯†ç </small>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"project-description\">é¡¹ç›®æè¿°</label>\n                        <textarea id=\"project-description\" maxlength=\"200\" rows=\"3\"\n                                  placeholder=\"è¯·è¾“å…¥é¡¹ç›®æè¿°ï¼ˆå¯é€‰ï¼Œæœ€å¤š200å­—ç¬¦ï¼‰\"></textarea>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <div class=\"checkbox-row\">\n                            <span class=\"checkbox-text\">é™åˆ¶æ¯ä¸ªç”¨æˆ·åªèƒ½é¢†å–ä¸€æ¬¡</span>\n                            <input type=\"checkbox\" id=\"limit-one-per-user\" checked />\n                        </div>\n                        <small class=\"form-hint\">ï¼ˆå¼€å¯åï¼Œæ¯ä¸ªç”¨æˆ·åŸºäºIPå’Œè´¦å·åªèƒ½é¢†å–ä¸€æ¬¡ï¼‰</small>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"cards-input\">å¡å¯†å†…å®¹ *</label>\n                        <div class=\"cards-input-container\">\n                            <div class=\"input-format-tabs\">\n                                <button type=\"button\" class=\"tab-btn active\" data-format=\"text\">æ–‡æœ¬æ ¼å¼</button>\n                                <button type=\"button\" class=\"tab-btn\" data-format=\"csv\">CSVæ ¼å¼</button>\n                                <button type=\"button\" class=\"tab-btn\" data-format=\"json\">JSONæ ¼å¼</button>\n                            </div>\n                            <textarea id=\"cards-input\" rows=\"10\" required\n                                      placeholder=\"è¯·è¾“å…¥å¡å¯†å†…å®¹ï¼Œç„¶åç‚¹å‡»\"å¯¼å…¥\"æŒ‰é’®\"></textarea>\n                            <div class=\"input-options\">\n                                <div class=\"input-tools\">\n                                    <button type=\"button\" class=\"btn-tool\" onclick=\"importCards()\">\n                                        ğŸ“¥ å¯¼å…¥\n                                    </button>\n                                    <button type=\"button\" class=\"btn-tool\" onclick=\"clearCards()\">\n                                        ğŸ—‘ï¸ æ¸…ç©º\n                                    </button>\n                                    <span class=\"cards-count\" id=\"cardsCount\">0 æ¡å¡å¯†</span>\n                                </div>\n                                <label class=\"checkbox-label\">\n                                    <input type=\"checkbox\" id=\"remove-duplicates\" checked>\n                                    è‡ªåŠ¨å»é‡\n                                </label>\n                            </div>\n                        </div>\n\n                        <!-- å¯¼å…¥çš„å¡å¯†åˆ—è¡¨ -->\n                        <div id=\"imported-cards-list\" class=\"imported-cards-list\" style=\"display: none;\">\n                            <div class=\"list-header\">\n                                <h4>å·²å¯¼å…¥çš„å¡å¯† (<span id=\"imported-count\">0</span> æ¡)</h4>\n                                <button type=\"button\" class=\"btn-tool\" onclick=\"clearImportedCards()\">\n                                    ğŸ—‘ï¸ æ¸…ç©ºåˆ—è¡¨\n                                </button>\n                            </div>\n                            <div id=\"cards-container\" class=\"cards-container\">\n                                <!-- å¡å¯†åˆ—è¡¨å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- é¡¹ç›®åˆ›å»ºä¸éœ€è¦ Turnstile éªŒè¯ -->\n\n                    <div class=\"form-actions\">\n                        <button type=\"submit\" class=\"btn btn-primary\" id=\"btn-create-project\">åˆ›å»ºé¡¹ç›®</button>\n                        <button type=\"button\" id=\"btn-clear-form\" class=\"btn btn-secondary\">æ¸…ç©ºè¡¨å•</button>\n                    </div>\n                </form>\n            </div>\n\n            <!-- Manage Projects Page -->\n            <div id=\"manage-page\" class=\"page\">\n                <div class=\"page-header\">\n                    <h2>é¡¹ç›®ç®¡ç†</h2>\n                    <button id=\"btn-back-home-2\" class=\"btn btn-secondary\">è¿”å›é¦–é¡µ</button>\n                </div>\n\n                <div id=\"projects-container\">\n                    <div id=\"projects-loading\" class=\"loading\">åŠ è½½ä¸­...</div>\n                    <div id=\"projects-list\" class=\"projects-grid\"></div>\n                    <div id=\"projects-empty\" class=\"empty-state\" style=\"display: none;\">\n                        <p>æš‚æ— é¡¹ç›®</p>\n                        <button id=\"btn-create-first\" class=\"btn btn-primary\">åˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®</button>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Claim Page -->\n            <div id=\"claim-page\" class=\"page\">\n                <div class=\"claim-container\">\n                    <div id=\"password-form\" class=\"password-form\">\n                        <h2>è¯·è¾“å…¥é¡¹ç›®å¯†ç </h2>\n                        <form id=\"verify-form\">\n                            <div class=\"form-group\">\n                                <input type=\"password\" id=\"claim-password\" required\n                                       placeholder=\"è¯·è¾“å…¥é¡¹ç›®å¯†ç \">\n                            </div>\n\n                            <!-- Turnstile éªŒè¯ç»„ä»¶ -->\n                            <div id=\"claim-turnstile-container\" class=\"turnstile-container\">\n                                <label>å®‰å…¨éªŒè¯</label>\n                                <div id=\"claim-turnstile-widget\" class=\"turnstile-widget\"></div>\n                                <div class=\"form-hint\">è¯·å®Œæˆå®‰å…¨éªŒè¯ä»¥ç»§ç»­</div>\n                            </div>\n\n                            <button type=\"submit\" class=\"btn btn-primary\">éªŒè¯å¯†ç </button>\n                        </form>\n                    </div>\n\n                    <div id=\"claim-result\" class=\"claim-result\" style=\"display: none;\">\n                        <div id=\"claim-success\" class=\"result-success\" style=\"display: none;\">\n                            <h2>é¢†å–æˆåŠŸï¼</h2>\n                            <div class=\"card-content\">\n                                <label>æ‚¨çš„å¡å¯†ï¼š</label>\n                                <div id=\"claimed-card\" class=\"card-display\"></div>\n                                <button id=\"btn-copy-card\" class=\"btn btn-secondary\">å¤åˆ¶å¡å¯†</button>\n                            </div>\n                        </div>\n\n                        <div id=\"claim-error\" class=\"result-error\" style=\"display: none;\">\n                            <h2>é¢†å–å¤±è´¥</h2>\n                            <p id=\"error-message\"></p>\n                            <button id=\"btn-retry\" class=\"btn btn-primary\">é‡æ–°å°è¯•</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Admin Page -->\n            <div id=\"admin-page\" class=\"page\">\n                <div class=\"page-header\">\n                    <h2>ç®¡ç†å‘˜é¢æ¿</h2>\n                </div>\n\n                <div class=\"admin-stats\">\n                    <div class=\"stat-card\">\n                        <div class=\"stat-value\" id=\"admin-total-users\">0</div>\n                        <div class=\"stat-label\">æ€»ç”¨æˆ·æ•°</div>\n                    </div>\n                    <div class=\"stat-card\">\n                        <div class=\"stat-value\" id=\"admin-active-users\">0</div>\n                        <div class=\"stat-label\">æ´»è·ƒç”¨æˆ·</div>\n                    </div>\n                    <div class=\"stat-card\">\n                        <div class=\"stat-value\" id=\"admin-banned-users\">0</div>\n                        <div class=\"stat-label\">å°ç¦ç”¨æˆ·</div>\n                    </div>\n                </div>\n\n                <div class=\"users-section\">\n                    <h3>ç”¨æˆ·åˆ—è¡¨</h3>\n                    <div id=\"users-loading\" class=\"loading\">åŠ è½½ä¸­...</div>\n                    <div id=\"users-list\" class=\"users-list\"></div>\n                </div>\n            </div>\n        </main>\n\n        <!-- Edit Project Modal -->\n        <div id=\"edit-project-modal\" class=\"modal\" style=\"display: none;\">\n            <div class=\"modal-content modal-large\">\n                <span class=\"modal-close\" onclick=\"app.closeEditProjectModal()\">&times;</span>\n                <h3>ç¼–è¾‘é¡¹ç›®</h3>\n                <div id=\"edit-project-content\">\n                    <!-- é¡¹ç›®åŸºæœ¬ä¿¡æ¯ -->\n                    <div class=\"edit-section\">\n                        <h4>é¡¹ç›®çŠ¶æ€</h4>\n                        <div class=\"status-toggle\">\n                            <label class=\"toggle-switch\">\n                                <input type=\"checkbox\" id=\"project-status-toggle\">\n                                <span class=\"toggle-slider\"></span>\n                            </label>\n                            <span id=\"project-status-text\">é¡¹ç›®å·²å¯ç”¨</span>\n                        </div>\n                    </div>\n\n                    <!-- é¡¹ç›®æè¿° -->\n                    <div class=\"edit-section\">\n                        <h4>é¡¹ç›®æè¿°</h4>\n                        <textarea id=\"edit-project-description\" placeholder=\"è¯·è¾“å…¥é¡¹ç›®æè¿°ï¼ˆå¯é€‰ï¼Œæœ€å¤š200å­—ç¬¦ï¼‰\" maxlength=\"200\" rows=\"3\"></textarea>\n                        <button class=\"btn btn-primary\" onclick=\"app.updateProjectDescription()\">ä¿å­˜æè¿°</button>\n                    </div>\n\n                    <!-- å¡å¯†ç®¡ç† -->\n                    <div class=\"edit-section\">\n                        <h4>å¡å¯†ç®¡ç†</h4>\n                        <div class=\"cards-stats\">\n                            <span>æ€»å¡å¯†æ•°: <strong id=\"edit-total-cards\">0</strong></span>\n                            <span>å·²é¢†å–: <strong id=\"edit-claimed-cards\">0</strong></span>\n                            <span>å‰©ä½™: <strong id=\"edit-remaining-cards\">0</strong></span>\n                        </div>\n\n                        <!-- æ·»åŠ å¡å¯† -->\n                        <div class=\"add-cards-section\">\n                            <h5>æ·»åŠ æ–°å¡å¯†</h5>\n                            <textarea id=\"new-cards-input\" placeholder=\"æ¯è¡Œä¸€ä¸ªå¡å¯†\" rows=\"5\"></textarea>\n                            <button class=\"btn btn-primary\" onclick=\"app.addNewCards()\">æ·»åŠ å¡å¯†</button>\n                        </div>\n\n                        <!-- å¡å¯†åˆ—è¡¨ -->\n                        <div class=\"cards-list-section\">\n                            <h5>å¡å¯†åˆ—è¡¨</h5>\n                            <div id=\"edit-cards-list\" class=\"edit-cards-list\">\n                                <!-- å¡å¯†åˆ—è¡¨å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Loading Overlay -->\n        <div id=\"loading-overlay\" class=\"loading-overlay\" style=\"display: none;\">\n            <div class=\"loading-spinner\"></div>\n            <p>å¤„ç†ä¸­...</p>\n        </div>\n\n        <!-- Toast Notifications -->\n        <div id=\"toast-container\" class=\"toast-container\"></div>\n    </div>\n\n    <!-- Scripts -->\n    <script src=\"js/config.js?v=3.0\"></script>\n    <script src=\"js/utils.js?v=3.0\"></script>\n    <script src=\"js/api.js?v=3.0\"></script>\n    <script src=\"js/auth.js?v=3.0\"></script>\n    <script src=\"js/turnstile.js?v=3.0\"></script>\n    <script src=\"js/app.js?v=3.0\"></script>\n</body>\n</html>\n",
    mimeType: 'text/html; charset=utf-8'
  },
  '/index.html': {
    content: "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>CDK - åœ¨çº¿å¡å¯†åˆ†å‘ç³»ç»Ÿ</title>\n    <link rel=\"stylesheet\" href=\"/styles/main.css?v=3.2\">\n</head>\n<body>\n    <div id=\"app\">\n        <!-- Navigation -->\n        <nav class=\"navbar\">\n            <div class=\"nav-container\">\n                <div class=\"nav-brand\">\n                    <h1>CDK å¡å¯†åˆ†å‘ç³»ç»Ÿ</h1>\n                </div>\n                <div class=\"nav-menu\">\n                    <button id=\"nav-home\" class=\"nav-btn\" style=\"display: none;\">ä¸»é¡µ</button>\n                    <button id=\"nav-admin\" class=\"nav-btn\" style=\"display: none;\">ç®¡ç†å‘˜</button>\n                    <div id=\"nav-user-info\" class=\"user-info\">\n                        <!-- User info will be injected here by auth.js -->\n                    </div>\n                </div>\n            </div>\n        </nav>\n\n        <!-- Auth Error Message -->\n        <div id=\"auth-error\" class=\"auth-error\" style=\"display: none;\"></div>\n\n        <!-- Main Content -->\n        <main class=\"main-content\">\n            <!-- Login Page -->\n            <div id=\"login-page\" class=\"page\">\n                <div class=\"login-container\">\n                    <div class=\"login-card\">\n                        <div class=\"login-header\">\n                            <h2>æ¬¢è¿ä½¿ç”¨ CDK å¡å¯†åˆ†å‘ç³»ç»Ÿ</h2>\n                            <p>è¯·ä½¿ç”¨ Linux.do è´¦å·ç™»å½•</p>\n                        </div>\n                        <div class=\"login-body\">\n                            <div class=\"login-icon\">\n                                <svg width=\"80\" height=\"80\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z\" fill=\"currentColor\"/>\n                                </svg>\n                            </div>\n                            <div id=\"login-user-info\" class=\"login-user-info\">\n                                <!-- Login button will be injected here by auth.js -->\n                            </div>\n                            <div class=\"login-footer\">\n                                <p class=\"login-hint\">ç™»å½•åå³å¯åˆ›å»ºå’Œç®¡ç†å¡å¯†é¡¹ç›®</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Home Page -->\n            <div id=\"home-page\" class=\"page\">\n                <div class=\"hero\">\n                    <h2>æ¬¢è¿ä½¿ç”¨ CDK å¡å¯†åˆ†å‘ç³»ç»Ÿ</h2>\n                    <p>ç®€å•ã€å®‰å…¨ã€é«˜æ•ˆçš„åœ¨çº¿å¡å¯†åˆ†å‘è§£å†³æ–¹æ¡ˆ</p>\n                    <div class=\"hero-actions\">\n                        <button id=\"btn-create-project\" class=\"btn btn-primary\">åˆ›å»ºæ–°é¡¹ç›®</button>\n                        <button id=\"btn-manage-projects\" class=\"btn btn-secondary\">ç®¡ç†é¡¹ç›®</button>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Create Project Page -->\n            <div id=\"create-page\" class=\"page\">\n                <div class=\"page-header\">\n                    <h2>åˆ›å»ºæ–°é¡¹ç›®</h2>\n                    <button id=\"btn-back-home\" class=\"btn btn-secondary\">è¿”å›é¦–é¡µ</button>\n                </div>\n                \n                <form id=\"create-form\" class=\"form-container\">\n                    <div class=\"form-group\">\n                        <label for=\"project-name\">é¡¹ç›®åç§° *</label>\n                        <input type=\"text\" id=\"project-name\" required maxlength=\"50\" \n                               placeholder=\"è¯·è¾“å…¥é¡¹ç›®åç§°ï¼ˆ1-50å­—ç¬¦ï¼‰\">\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"project-password\">é¡¹ç›®å¯†ç  *</label>\n                        <input type=\"password\" id=\"project-password\" required minlength=\"6\" maxlength=\"20\"\n                               placeholder=\"è¯·è¾“å…¥é¡¹ç›®å¯†ç ï¼ˆ6-20å­—ç¬¦ï¼‰\">\n                        <small class=\"form-hint\">ç”¨æˆ·é¢†å–å¡å¯†æ—¶éœ€è¦è¾“å…¥çš„å¯†ç </small>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"admin-password\">ç®¡ç†å¯†ç  *</label>\n                        <input type=\"password\" id=\"admin-password\" required minlength=\"6\" maxlength=\"20\"\n                               placeholder=\"è¯·è¾“å…¥ç®¡ç†å¯†ç ï¼ˆ6-20å­—ç¬¦ï¼‰\">\n                        <small class=\"form-hint\">ç”¨äºç¼–è¾‘å’Œåˆ é™¤é¡¹ç›®çš„ç®¡ç†å¯†ç </small>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"project-description\">é¡¹ç›®æè¿°</label>\n                        <textarea id=\"project-description\" maxlength=\"200\" rows=\"3\"\n                                  placeholder=\"è¯·è¾“å…¥é¡¹ç›®æè¿°ï¼ˆå¯é€‰ï¼Œæœ€å¤š200å­—ç¬¦ï¼‰\"></textarea>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <div class=\"checkbox-row\">\n                            <span class=\"checkbox-text\">é™åˆ¶æ¯ä¸ªç”¨æˆ·åªèƒ½é¢†å–ä¸€æ¬¡</span>\n                            <input type=\"checkbox\" id=\"limit-one-per-user\" checked />\n                        </div>\n                        <small class=\"form-hint\">ï¼ˆå¼€å¯åï¼Œæ¯ä¸ªç”¨æˆ·åŸºäºIPå’Œè´¦å·åªèƒ½é¢†å–ä¸€æ¬¡ï¼‰</small>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"cards-input\">å¡å¯†å†…å®¹ *</label>\n                        <div class=\"cards-input-container\">\n                            <div class=\"input-format-tabs\">\n                                <button type=\"button\" class=\"tab-btn active\" data-format=\"text\">æ–‡æœ¬æ ¼å¼</button>\n                                <button type=\"button\" class=\"tab-btn\" data-format=\"csv\">CSVæ ¼å¼</button>\n                                <button type=\"button\" class=\"tab-btn\" data-format=\"json\">JSONæ ¼å¼</button>\n                            </div>\n                            <textarea id=\"cards-input\" rows=\"10\" required\n                                      placeholder=\"è¯·è¾“å…¥å¡å¯†å†…å®¹ï¼Œç„¶åç‚¹å‡»\"å¯¼å…¥\"æŒ‰é’®\"></textarea>\n                            <div class=\"input-options\">\n                                <div class=\"input-tools\">\n                                    <button type=\"button\" class=\"btn-tool\" onclick=\"importCards()\">\n                                        ğŸ“¥ å¯¼å…¥\n                                    </button>\n                                    <button type=\"button\" class=\"btn-tool\" onclick=\"clearCards()\">\n                                        ğŸ—‘ï¸ æ¸…ç©º\n                                    </button>\n                                    <span class=\"cards-count\" id=\"cardsCount\">0 æ¡å¡å¯†</span>\n                                </div>\n                                <label class=\"checkbox-label\">\n                                    <input type=\"checkbox\" id=\"remove-duplicates\" checked>\n                                    è‡ªåŠ¨å»é‡\n                                </label>\n                            </div>\n                        </div>\n\n                        <!-- å¯¼å…¥çš„å¡å¯†åˆ—è¡¨ -->\n                        <div id=\"imported-cards-list\" class=\"imported-cards-list\" style=\"display: none;\">\n                            <div class=\"list-header\">\n                                <h4>å·²å¯¼å…¥çš„å¡å¯† (<span id=\"imported-count\">0</span> æ¡)</h4>\n                                <button type=\"button\" class=\"btn-tool\" onclick=\"clearImportedCards()\">\n                                    ğŸ—‘ï¸ æ¸…ç©ºåˆ—è¡¨\n                                </button>\n                            </div>\n                            <div id=\"cards-container\" class=\"cards-container\">\n                                <!-- å¡å¯†åˆ—è¡¨å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- é¡¹ç›®åˆ›å»ºä¸éœ€è¦ Turnstile éªŒè¯ -->\n\n                    <div class=\"form-actions\">\n                        <button type=\"submit\" class=\"btn btn-primary\" id=\"btn-create-project\">åˆ›å»ºé¡¹ç›®</button>\n                        <button type=\"button\" id=\"btn-clear-form\" class=\"btn btn-secondary\">æ¸…ç©ºè¡¨å•</button>\n                    </div>\n                </form>\n            </div>\n\n            <!-- Manage Projects Page -->\n            <div id=\"manage-page\" class=\"page\">\n                <div class=\"page-header\">\n                    <h2>é¡¹ç›®ç®¡ç†</h2>\n                    <button id=\"btn-back-home-2\" class=\"btn btn-secondary\">è¿”å›é¦–é¡µ</button>\n                </div>\n\n                <div id=\"projects-container\">\n                    <div id=\"projects-loading\" class=\"loading\">åŠ è½½ä¸­...</div>\n                    <div id=\"projects-list\" class=\"projects-grid\"></div>\n                    <div id=\"projects-empty\" class=\"empty-state\" style=\"display: none;\">\n                        <p>æš‚æ— é¡¹ç›®</p>\n                        <button id=\"btn-create-first\" class=\"btn btn-primary\">åˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®</button>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Claim Page -->\n            <div id=\"claim-page\" class=\"page\">\n                <div class=\"claim-container\">\n                    <div id=\"password-form\" class=\"password-form\">\n                        <h2>è¯·è¾“å…¥é¡¹ç›®å¯†ç </h2>\n                        <form id=\"verify-form\">\n                            <div class=\"form-group\">\n                                <input type=\"password\" id=\"claim-password\" required\n                                       placeholder=\"è¯·è¾“å…¥é¡¹ç›®å¯†ç \">\n                            </div>\n\n                            <!-- Turnstile éªŒè¯ç»„ä»¶ -->\n                            <div id=\"claim-turnstile-container\" class=\"turnstile-container\">\n                                <label>å®‰å…¨éªŒè¯</label>\n                                <div id=\"claim-turnstile-widget\" class=\"turnstile-widget\"></div>\n                                <div class=\"form-hint\">è¯·å®Œæˆå®‰å…¨éªŒè¯ä»¥ç»§ç»­</div>\n                            </div>\n\n                            <button type=\"submit\" class=\"btn btn-primary\">éªŒè¯å¯†ç </button>\n                        </form>\n                    </div>\n\n                    <div id=\"claim-result\" class=\"claim-result\" style=\"display: none;\">\n                        <div id=\"claim-success\" class=\"result-success\" style=\"display: none;\">\n                            <h2>é¢†å–æˆåŠŸï¼</h2>\n                            <div class=\"card-content\">\n                                <label>æ‚¨çš„å¡å¯†ï¼š</label>\n                                <div id=\"claimed-card\" class=\"card-display\"></div>\n                                <button id=\"btn-copy-card\" class=\"btn btn-secondary\">å¤åˆ¶å¡å¯†</button>\n                            </div>\n                        </div>\n\n                        <div id=\"claim-error\" class=\"result-error\" style=\"display: none;\">\n                            <h2>é¢†å–å¤±è´¥</h2>\n                            <p id=\"error-message\"></p>\n                            <button id=\"btn-retry\" class=\"btn btn-primary\">é‡æ–°å°è¯•</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Admin Page -->\n            <div id=\"admin-page\" class=\"page\">\n                <div class=\"page-header\">\n                    <h2>ç®¡ç†å‘˜é¢æ¿</h2>\n                </div>\n\n                <div class=\"admin-stats\">\n                    <div class=\"stat-card\">\n                        <div class=\"stat-value\" id=\"admin-total-users\">0</div>\n                        <div class=\"stat-label\">æ€»ç”¨æˆ·æ•°</div>\n                    </div>\n                    <div class=\"stat-card\">\n                        <div class=\"stat-value\" id=\"admin-active-users\">0</div>\n                        <div class=\"stat-label\">æ´»è·ƒç”¨æˆ·</div>\n                    </div>\n                    <div class=\"stat-card\">\n                        <div class=\"stat-value\" id=\"admin-banned-users\">0</div>\n                        <div class=\"stat-label\">å°ç¦ç”¨æˆ·</div>\n                    </div>\n                </div>\n\n                <div class=\"users-section\">\n                    <h3>ç”¨æˆ·åˆ—è¡¨</h3>\n                    <div id=\"users-loading\" class=\"loading\">åŠ è½½ä¸­...</div>\n                    <div id=\"users-list\" class=\"users-list\"></div>\n                </div>\n            </div>\n        </main>\n\n        <!-- Edit Project Modal -->\n        <div id=\"edit-project-modal\" class=\"modal\" style=\"display: none;\">\n            <div class=\"modal-content modal-large\">\n                <span class=\"modal-close\" onclick=\"app.closeEditProjectModal()\">&times;</span>\n                <h3>ç¼–è¾‘é¡¹ç›®</h3>\n                <div id=\"edit-project-content\">\n                    <!-- é¡¹ç›®åŸºæœ¬ä¿¡æ¯ -->\n                    <div class=\"edit-section\">\n                        <h4>é¡¹ç›®çŠ¶æ€</h4>\n                        <div class=\"status-toggle\">\n                            <label class=\"toggle-switch\">\n                                <input type=\"checkbox\" id=\"project-status-toggle\">\n                                <span class=\"toggle-slider\"></span>\n                            </label>\n                            <span id=\"project-status-text\">é¡¹ç›®å·²å¯ç”¨</span>\n                        </div>\n                    </div>\n\n                    <!-- é¡¹ç›®æè¿° -->\n                    <div class=\"edit-section\">\n                        <h4>é¡¹ç›®æè¿°</h4>\n                        <textarea id=\"edit-project-description\" placeholder=\"è¯·è¾“å…¥é¡¹ç›®æè¿°ï¼ˆå¯é€‰ï¼Œæœ€å¤š200å­—ç¬¦ï¼‰\" maxlength=\"200\" rows=\"3\"></textarea>\n                        <button class=\"btn btn-primary\" onclick=\"app.updateProjectDescription()\">ä¿å­˜æè¿°</button>\n                    </div>\n\n                    <!-- å¡å¯†ç®¡ç† -->\n                    <div class=\"edit-section\">\n                        <h4>å¡å¯†ç®¡ç†</h4>\n                        <div class=\"cards-stats\">\n                            <span>æ€»å¡å¯†æ•°: <strong id=\"edit-total-cards\">0</strong></span>\n                            <span>å·²é¢†å–: <strong id=\"edit-claimed-cards\">0</strong></span>\n                            <span>å‰©ä½™: <strong id=\"edit-remaining-cards\">0</strong></span>\n                        </div>\n\n                        <!-- æ·»åŠ å¡å¯† -->\n                        <div class=\"add-cards-section\">\n                            <h5>æ·»åŠ æ–°å¡å¯†</h5>\n                            <textarea id=\"new-cards-input\" placeholder=\"æ¯è¡Œä¸€ä¸ªå¡å¯†\" rows=\"5\"></textarea>\n                            <button class=\"btn btn-primary\" onclick=\"app.addNewCards()\">æ·»åŠ å¡å¯†</button>\n                        </div>\n\n                        <!-- å¡å¯†åˆ—è¡¨ -->\n                        <div class=\"cards-list-section\">\n                            <h5>å¡å¯†åˆ—è¡¨</h5>\n                            <div id=\"edit-cards-list\" class=\"edit-cards-list\">\n                                <!-- å¡å¯†åˆ—è¡¨å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Loading Overlay -->\n        <div id=\"loading-overlay\" class=\"loading-overlay\" style=\"display: none;\">\n            <div class=\"loading-spinner\"></div>\n            <p>å¤„ç†ä¸­...</p>\n        </div>\n\n        <!-- Toast Notifications -->\n        <div id=\"toast-container\" class=\"toast-container\"></div>\n    </div>\n\n    <!-- Scripts -->\n    <script src=\"/js/config.js?v=3.0\"></script>\n    <script src=\"/js/utils.js?v=3.0\"></script>\n    <script src=\"/js/api.js?v=3.0\"></script>\n    <script src=\"/js/auth.js?v=3.0\"></script>\n    <script src=\"/js/turnstile.js?v=3.0\"></script>\n    <script src=\"/js/app.js?v=3.0\"></script>\n</body>\n</html>\n",
    mimeType: 'text/html; charset=utf-8'
  },
  '/styles/main.css': {
    content: "/* CDK å¡å¯†åˆ†å‘ç³»ç»Ÿ - ä¸»æ ·å¼æ–‡ä»¶ */\n\n/* åŸºç¡€é‡ç½®å’Œå˜é‡ */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\n:root {\n    --primary-color: #007bff;\n    --secondary-color: #6c757d;\n    --success-color: #28a745;\n    --danger-color: #dc3545;\n    --warning-color: #ffc107;\n    --info-color: #17a2b8;\n    --light-color: #f8f9fa;\n    --dark-color: #343a40;\n    --border-color: #dee2e6;\n    --border-radius: 8px;\n    --box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n    --transition: all 0.3s ease;\n}\n\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    line-height: 1.6;\n    color: var(--dark-color);\n    background-color: #f5f5f5;\n}\n\n/* å¯¼èˆªæ  */\n.navbar {\n    background: white;\n    box-shadow: var(--box-shadow);\n    position: sticky;\n    top: 0;\n    z-index: 100;\n}\n\n.nav-container {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 1rem 2rem;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.nav-brand h1 {\n    color: var(--primary-color);\n    font-size: 1.5rem;\n}\n\n.nav-menu {\n    display: flex;\n    gap: 1rem;\n}\n\n.nav-btn {\n    background: none;\n    border: 1px solid var(--primary-color);\n    color: var(--primary-color);\n    padding: 0.5rem 1rem;\n    border-radius: var(--border-radius);\n    cursor: pointer;\n    transition: var(--transition);\n}\n\n.nav-btn:hover {\n    background: var(--primary-color);\n    color: white;\n}\n\n/* ä¸»å†…å®¹åŒºåŸŸ */\n.main-content {\n    max-width: 1200px;\n    margin: 2rem auto;\n    padding: 0 2rem;\n}\n\n/* é¡µé¢åˆ‡æ¢ */\n.page {\n    display: none;\n}\n\n.page.active {\n    display: block;\n}\n\n/* é¦–é¡µæ ·å¼ */\n.hero {\n    text-align: center;\n    padding: 4rem 2rem;\n    background: white;\n    border-radius: var(--border-radius);\n    box-shadow: var(--box-shadow);\n}\n\n.hero h2 {\n    font-size: 2.5rem;\n    margin-bottom: 1rem;\n    color: var(--dark-color);\n}\n\n.hero p {\n    font-size: 1.2rem;\n    color: var(--secondary-color);\n    margin-bottom: 2rem;\n}\n\n.hero-actions {\n    display: flex;\n    gap: 1rem;\n    justify-content: center;\n    flex-wrap: wrap;\n}\n\n/* é¡µé¢å¤´éƒ¨ */\n.page-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 2rem;\n    padding-bottom: 1rem;\n    border-bottom: 2px solid var(--border-color);\n}\n\n.page-header h2 {\n    color: var(--dark-color);\n    font-size: 2rem;\n}\n\n/* æŒ‰é’®æ ·å¼ */\n.btn {\n    display: inline-block;\n    padding: 0.75rem 1.5rem;\n    border: none;\n    border-radius: var(--border-radius);\n    cursor: pointer;\n    text-decoration: none;\n    font-size: 1rem;\n    font-weight: 500;\n    transition: var(--transition);\n    text-align: center;\n}\n\n.btn-primary {\n    background: var(--primary-color);\n    color: white;\n}\n\n.btn-primary:hover {\n    background: #0056b3;\n}\n\n.btn-secondary {\n    background: var(--secondary-color);\n    color: white;\n}\n\n.btn-secondary:hover {\n    background: #545b62;\n}\n\n.btn-success {\n    background: var(--success-color);\n    color: white;\n}\n\n.btn-danger {\n    background: var(--danger-color);\n    color: white;\n}\n\n/* è¡¨å•æ ·å¼ */\n.form-container {\n    background: white;\n    padding: 2rem;\n    border-radius: var(--border-radius);\n    box-shadow: var(--box-shadow);\n}\n\n.form-group {\n    margin-bottom: 1.5rem;\n}\n\n.form-group label {\n    display: block;\n    margin-bottom: 0.5rem;\n    font-weight: 500;\n    color: var(--dark-color);\n}\n\n.form-group input,\n.form-group textarea {\n    width: 100%;\n    padding: 0.75rem;\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    font-size: 1rem;\n    transition: var(--transition);\n}\n\n.form-group input:focus,\n.form-group textarea:focus {\n    outline: none;\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);\n}\n\n/* å¡å¯†è¾“å…¥åŒºåŸŸ */\n.cards-input-container {\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    overflow: hidden;\n}\n\n.input-format-tabs {\n    display: flex;\n    background: var(--light-color);\n    border-bottom: 1px solid var(--border-color);\n}\n\n.tab-btn {\n    flex: 1;\n    padding: 0.75rem;\n    border: none;\n    background: transparent;\n    cursor: pointer;\n    transition: var(--transition);\n}\n\n.tab-btn.active {\n    background: white;\n    color: var(--primary-color);\n    font-weight: 500;\n}\n\n.cards-input-container textarea {\n    border: none;\n    border-radius: 0;\n    resize: vertical;\n}\n\n.input-options {\n    padding: 1rem;\n    background: var(--light-color);\n    border-top: 1px solid var(--border-color);\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-wrap: wrap;\n    gap: 1rem;\n}\n\n/* è¾“å…¥å·¥å…·æ  */\n.input-tools {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    flex-wrap: wrap;\n}\n\n.btn-tool {\n    padding: 0.4rem 0.8rem;\n    font-size: 0.85rem;\n    border: 1px solid var(--border-color);\n    background: var(--background-color);\n    color: var(--text-color);\n    border-radius: var(--border-radius);\n    cursor: pointer;\n    transition: all 0.2s ease;\n    white-space: nowrap;\n}\n\n.btn-tool:hover {\n    background: var(--primary-color);\n    color: white;\n    border-color: var(--primary-color);\n}\n\n.cards-count {\n    font-size: 0.85rem;\n    color: var(--text-secondary);\n    font-weight: 500;\n    padding: 0.4rem 0.8rem;\n    background: var(--background-color);\n    border-radius: var(--border-radius);\n    border: 1px solid var(--border-color);\n    white-space: nowrap;\n}\n\n/* å¯¼å…¥æŒ‰é’®ç‰¹æ®Šæ ·å¼ */\n.btn-tool:first-child {\n    background: var(--primary-color);\n    color: white;\n    border-color: var(--primary-color);\n}\n\n.btn-tool:first-child:hover {\n    background: var(--primary-dark);\n    border-color: var(--primary-dark);\n}\n\n.checkbox-label {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    cursor: pointer;\n}\n\n.checkbox-inline {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    flex-wrap: wrap;\n}\n\n.checkbox-inline .checkbox-label {\n    margin: 0;\n}\n\n.checkbox-inline .form-hint {\n    margin: 0;\n    color: var(--text-secondary);\n}\n\n.checkbox-row {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0.75rem;\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    background: #f8f9fa;\n}\n\n.checkbox-row .checkbox-text {\n    font-weight: 500;\n    color: var(--dark-color);\n}\n\n.checkbox-row input[type=\"checkbox\"] {\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n}\n\n.form-actions {\n    display: flex;\n    gap: 1rem;\n    justify-content: flex-end;\n    margin-top: 2rem;\n    padding-top: 1rem;\n    border-top: 1px solid var(--border-color);\n}\n\n/* é¡¹ç›®ç½‘æ ¼ */\n.projects-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 1.5rem;\n}\n\n.project-card {\n    background: white;\n    padding: 1.5rem;\n    border-radius: var(--border-radius);\n    box-shadow: var(--box-shadow);\n    transition: var(--transition);\n}\n\n.project-card:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n}\n\n.project-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    margin-bottom: 1rem;\n}\n\n.project-title {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: var(--dark-color);\n    margin-bottom: 0.5rem;\n}\n\n.project-status {\n    padding: 0.25rem 0.5rem;\n    border-radius: 4px;\n    font-size: 0.75rem;\n    font-weight: 500;\n}\n\n.status-active {\n    background: #d4edda;\n    color: #155724;\n}\n\n.status-inactive {\n    background: #f8d7da;\n    color: #721c24;\n}\n\n.project-stats {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 1rem;\n    margin: 1rem 0;\n}\n\n.stat-item {\n    text-align: center;\n}\n\n.stat-value {\n    font-size: 1.5rem;\n    font-weight: 600;\n    color: var(--primary-color);\n}\n\n.stat-label {\n    font-size: 0.875rem;\n    color: var(--secondary-color);\n}\n\n.project-actions {\n    display: flex;\n    gap: 0.5rem;\n    margin-top: 1rem;\n}\n\n.project-actions .btn {\n    flex: 1;\n    padding: 0.5rem;\n    font-size: 0.875rem;\n}\n\n/* é¢†å–é¡µé¢ */\n.claim-container {\n    max-width: 500px;\n    margin: 2rem auto;\n}\n\n.password-form,\n.claim-result {\n    background: white;\n    padding: 2rem;\n    border-radius: var(--border-radius);\n    box-shadow: var(--box-shadow);\n    text-align: center;\n}\n\n.card-content {\n    margin: 2rem 0;\n}\n\n.card-display {\n    background: var(--light-color);\n    padding: 1rem;\n    border-radius: var(--border-radius);\n    font-family: monospace;\n    font-size: 1.1rem;\n    word-break: break-all;\n    margin: 1rem 0;\n    border: 2px dashed var(--border-color);\n}\n\n.result-success {\n    color: var(--success-color);\n}\n\n.result-error {\n    color: var(--danger-color);\n}\n\n/* åŠ è½½å’ŒçŠ¶æ€ */\n.loading {\n    text-align: center;\n    padding: 2rem;\n    color: var(--secondary-color);\n}\n\n.loading-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.5);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n}\n\n.loading-spinner {\n    width: 40px;\n    height: 40px;\n    border: 4px solid var(--light-color);\n    border-top: 4px solid var(--primary-color);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n    margin-bottom: 1rem;\n}\n\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n.empty-state {\n    text-align: center;\n    padding: 4rem 2rem;\n    color: var(--secondary-color);\n}\n\n/* Toast é€šçŸ¥ */\n.toast-container {\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    z-index: 1100;\n}\n\n.toast {\n    background: white;\n    padding: 1rem 1.5rem;\n    border-radius: var(--border-radius);\n    box-shadow: var(--box-shadow);\n    margin-bottom: 0.5rem;\n    border-left: 4px solid var(--primary-color);\n    animation: slideIn 0.3s ease;\n}\n\n.toast.success {\n    border-left-color: var(--success-color);\n}\n\n.toast.error {\n    border-left-color: var(--danger-color);\n}\n\n.toast.warning {\n    border-left-color: var(--warning-color);\n}\n\n@keyframes slideIn {\n    from {\n        transform: translateX(100%);\n        opacity: 0;\n    }\n    to {\n        transform: translateX(0);\n        opacity: 1;\n    }\n}\n\n/* æ¶ˆæ¯æç¤ºåŠ¨ç”» */\n@keyframes slideInRight {\n    from {\n        transform: translateX(100%);\n        opacity: 0;\n    }\n    to {\n        transform: translateX(0);\n        opacity: 1;\n    }\n}\n\n@keyframes slideOutRight {\n    from {\n        transform: translateX(0);\n        opacity: 1;\n    }\n    to {\n        transform: translateX(100%);\n        opacity: 0;\n    }\n}\n\n/* è¡¨å•æç¤ºæ ·å¼ */\n.form-hint {\n    display: block;\n    margin-top: 5px;\n    font-size: 12px;\n    color: #666;\n    line-height: 1.4;\n}\n\n/* å¯¼å…¥å¡å¯†åˆ—è¡¨æ ·å¼ */\n.imported-cards-list {\n    margin-top: 20px;\n    border: 1px solid #e0e0e0;\n    border-radius: 8px;\n    background: #f9f9f9;\n    overflow: hidden;\n}\n\n.list-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 15px 20px;\n    background: #f0f0f0;\n    border-bottom: 1px solid #e0e0e0;\n}\n\n.list-header h4 {\n    margin: 0;\n    color: #333;\n    font-size: 16px;\n}\n\n.cards-container {\n    max-height: 300px;\n    overflow-y: auto;\n    padding: 10px;\n}\n\n.card-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 8px 12px;\n    margin-bottom: 5px;\n    background: white;\n    border: 1px solid #e0e0e0;\n    border-radius: 4px;\n    font-family: 'Courier New', monospace;\n    font-size: 14px;\n}\n\n.card-content {\n    flex: 1;\n    word-break: break-all;\n    margin-right: 10px;\n    color: #333;\n}\n\n.card-delete {\n    background: #ff4757;\n    color: white;\n    border: none;\n    border-radius: 3px;\n    padding: 4px 8px;\n    cursor: pointer;\n    font-size: 12px;\n    transition: background-color 0.2s;\n}\n\n.card-delete:hover {\n    background: #ff3838;\n}\n\n.cards-container::-webkit-scrollbar {\n    width: 6px;\n}\n\n.cards-container::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 3px;\n}\n\n.cards-container::-webkit-scrollbar-thumb {\n    background: #c1c1c1;\n    border-radius: 3px;\n}\n\n.cards-container::-webkit-scrollbar-thumb:hover {\n    background: #a8a8a8;\n}\n\n/* Turnstile æ ·å¼ */\n.turnstile-container {\n    margin: 20px 0;\n    padding: 15px;\n    border: 1px solid #e0e0e0;\n    border-radius: 8px;\n    background-color: #f9f9f9;\n    display: none;\n}\n\n.turnstile-container.show {\n    display: block;\n    animation: fadeIn 0.3s ease-in;\n}\n\n.turnstile-widget {\n    margin: 10px 0;\n    display: flex;\n    justify-content: center;\n}\n\n.turnstile-container .form-hint {\n    margin-top: 8px;\n    font-size: 12px;\n    color: #666;\n    text-align: center;\n}\n\n.turnstile-container label {\n    font-weight: 600;\n    color: #333;\n    margin-bottom: 8px;\n    display: block;\n}\n\n/* Turnstile åŠ è½½çŠ¶æ€ */\n.turnstile-loading {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 0.75rem;\n    padding: 1.5rem;\n    color: var(--secondary-color);\n}\n\n.loading-spinner {\n    width: 24px;\n    height: 24px;\n    border: 2px solid #e0e0e0;\n    border-top: 2px solid var(--primary-color);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n.loading-text {\n    font-size: 0.875rem;\n    color: #666;\n}\n\n/* Turnstile é”™è¯¯çŠ¶æ€ */\n.turnstile-error {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 0.75rem;\n    padding: 1.5rem;\n    color: var(--error-color);\n}\n\n.error-icon {\n    font-size: 1.5rem;\n}\n\n.error-text {\n    font-size: 0.875rem;\n    margin-bottom: 0.5rem;\n    color: #d32f2f;\n}\n\n.retry-btn {\n    padding: 0.5rem 1rem;\n    background: var(--primary-color);\n    color: white;\n    border: none;\n    border-radius: 6px;\n    cursor: pointer;\n    font-size: 0.875rem;\n    transition: background-color 0.2s;\n}\n\n.retry-btn:hover {\n    background: var(--primary-hover);\n}\n\n/* æ—‹è½¬åŠ¨ç”» */\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 768px) {\n    .nav-container {\n        padding: 1rem;\n        flex-direction: column;\n        gap: 1rem;\n    }\n\n    .main-content {\n        padding: 0 1rem;\n    }\n\n    .hero {\n        padding: 2rem 1rem;\n    }\n\n    .hero h2 {\n        font-size: 2rem;\n    }\n\n    .hero-actions {\n        flex-direction: column;\n        align-items: center;\n    }\n\n    .page-header {\n        flex-direction: column;\n        gap: 1rem;\n        align-items: flex-start;\n    }\n\n    .form-actions {\n        flex-direction: column;\n    }\n\n    .projects-grid {\n        grid-template-columns: 1fr;\n    }\n\n    .project-stats {\n        grid-template-columns: repeat(2, 1fr);\n    }\n\n    .project-actions {\n        flex-direction: column;\n    }\n\n    .turnstile-container {\n        margin: 15px 0;\n        padding: 12px;\n    }\n}\n\n/* ==================== Authentication Styles ==================== */\n\n/* Auth Error Message */\n.auth-error {\n    background-color: #f8d7da;\n    color: #721c24;\n    padding: 1rem;\n    margin: 1rem auto;\n    max-width: 1200px;\n    border-radius: var(--border-radius);\n    border: 1px solid #f5c6cb;\n    text-align: center;\n}\n\n/* User Info in Navigation */\n.user-info {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n}\n\n.user-info-container {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    padding: 0.5rem;\n    background: var(--light-color);\n    border-radius: var(--border-radius);\n}\n\n.user-avatar {\n    width: 36px;\n    height: 36px;\n    border-radius: 50%;\n    object-fit: cover;\n    border: 2px solid var(--primary-color);\n}\n\n.user-avatar-placeholder {\n    width: 36px;\n    height: 36px;\n    border-radius: 50%;\n    background: var(--primary-color);\n    color: white;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: bold;\n    font-size: 1.2rem;\n}\n\n.user-details {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n}\n\n.user-name {\n    font-weight: 600;\n    font-size: 0.9rem;\n    color: var(--dark-color);\n}\n\n.user-username {\n    font-size: 0.75rem;\n    color: var(--secondary-color);\n}\n\n/* Login Page */\n.login-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 60vh;\n    padding: 2rem;\n}\n\n.login-card {\n    background: white;\n    border-radius: var(--border-radius);\n    box-shadow: var(--box-shadow);\n    padding: 3rem;\n    max-width: 500px;\n    width: 100%;\n    text-align: center;\n}\n\n.login-header h2 {\n    color: var(--primary-color);\n    margin-bottom: 0.5rem;\n    font-size: 1.8rem;\n}\n\n.login-header p {\n    color: var(--secondary-color);\n    margin-bottom: 2rem;\n}\n\n.login-body {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 2rem;\n}\n\n.login-icon {\n    color: var(--primary-color);\n    opacity: 0.8;\n}\n\n.login-user-info {\n    width: 100%;\n}\n\n.login-user-info .btn {\n    width: 100%;\n    padding: 1rem;\n    font-size: 1.1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 0.5rem;\n}\n\n.login-footer {\n    margin-top: 1rem;\n}\n\n.login-hint {\n    color: var(--secondary-color);\n    font-size: 0.9rem;\n}\n\n/* Button Sizes */\n.btn-sm {\n    padding: 0.25rem 0.75rem;\n    font-size: 0.875rem;\n}\n\n/* Responsive for Auth */\n@media (max-width: 768px) {\n    .user-info-container {\n        flex-direction: column;\n        gap: 0.5rem;\n        padding: 0.75rem;\n    }\n\n    .user-details {\n        align-items: center;\n    }\n\n    .login-card {\n        padding: 2rem 1.5rem;\n    }\n\n    .login-header h2 {\n        font-size: 1.5rem;\n    }\n\n    .nav-menu {\n        flex-direction: column;\n        gap: 0.5rem;\n    }\n}\n\n/* ==================== Admin Panel Styles ==================== */\n\n#admin-page {\n    padding: 2rem;\n}\n\n.admin-stats {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n    gap: 1.5rem;\n    margin-bottom: 2rem;\n}\n\n.stat-card {\n    background: var(--card-bg);\n    padding: 1.5rem;\n    border-radius: var(--border-radius);\n    text-align: center;\n    border: 1px solid var(--border-color);\n    box-shadow: var(--shadow);\n}\n\n.stat-card .stat-value {\n    font-size: 2rem;\n    font-weight: 600;\n    color: var(--primary-color);\n    margin-bottom: 0.5rem;\n}\n\n.stat-card .stat-label {\n    font-size: 0.875rem;\n    color: var(--secondary-color);\n}\n\n.users-section {\n    background: var(--card-bg);\n    padding: 1.5rem;\n    border-radius: var(--border-radius);\n    box-shadow: var(--shadow);\n    border: 1px solid var(--border-color);\n}\n\n.users-section h3 {\n    margin-bottom: 1rem;\n    color: var(--dark-color);\n}\n\n.users-list {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n}\n\n.user-card {\n    display: grid;\n    grid-template-columns: auto 1fr auto;\n    gap: 1rem;\n    padding: 1rem;\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    align-items: center;\n    background: var(--card-bg);\n    box-shadow: var(--shadow);\n}\n\n.user-card.banned {\n    background: #fff3cd;\n    border-color: #ffc107;\n}\n\n.user-avatar-admin {\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    object-fit: cover;\n}\n\n.user-info-admin {\n    display: flex;\n    flex-direction: column;\n    gap: 0.25rem;\n}\n\n.user-name-admin {\n    font-weight: 600;\n    color: var(--dark-color);\n}\n\n.user-username-admin {\n    color: var(--secondary-color);\n    font-size: 0.875rem;\n}\n\n.user-meta {\n    display: flex;\n    gap: 1rem;\n    font-size: 0.75rem;\n    color: var(--secondary-color);\n    margin-top: 0.25rem;\n}\n\n.user-status {\n    display: inline-block;\n    padding: 0.25rem 0.5rem;\n    border-radius: 4px;\n    font-size: 0.75rem;\n    font-weight: 500;\n}\n\n.user-status.active {\n    background: #d4edda;\n    color: #155724;\n}\n\n.user-status.banned {\n    background: #f8d7da;\n    color: #721c24;\n}\n\n.user-actions {\n    display: flex;\n    gap: 0.5rem;\n}\n\n.ban-reason {\n    margin-top: 0.5rem;\n    padding: 0.5rem;\n    background: #fff3cd;\n    border-left: 3px solid #ffc107;\n    font-size: 0.875rem;\n    color: #856404;\n}\n\n@media (max-width: 768px) {\n    .user-card {\n        grid-template-columns: 1fr;\n        text-align: center;\n    }\n\n    .user-actions {\n        justify-content: center;\n    }\n}\n\n/* ==================== Edit Project Modal Styles ==================== */\n\n.modal {\n    display: none;\n    position: fixed;\n    z-index: 1000;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    align-items: center;\n    justify-content: center;\n    overflow: auto;\n}\n\n.modal-content {\n    background-color: var(--card-bg);\n    margin: auto;\n    padding: 2rem;\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    width: 90%;\n    max-width: 600px;\n    position: relative;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.modal-large {\n    max-width: 800px;\n    max-height: 90vh;\n    overflow-y: auto;\n}\n\n.modal-close {\n    position: absolute;\n    right: 1rem;\n    top: 1rem;\n    font-size: 28px;\n    font-weight: bold;\n    color: var(--secondary-color);\n    cursor: pointer;\n    line-height: 1;\n    transition: color 0.3s;\n}\n\n.modal-close:hover,\n.modal-close:focus {\n    color: var(--dark-color);\n}\n\n.edit-section {\n    margin-bottom: 2rem;\n    padding: 1.5rem;\n    background: var(--card-bg);\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n}\n\n.edit-section h4 {\n    margin-bottom: 1rem;\n    color: var(--dark-color);\n    font-size: 1.1rem;\n}\n\n.edit-section h5 {\n    margin-bottom: 0.75rem;\n    color: var(--dark-color);\n    font-size: 1rem;\n}\n\n.status-toggle {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n}\n\n.toggle-switch {\n    position: relative;\n    display: inline-block;\n    width: 50px;\n    height: 24px;\n}\n\n.toggle-switch input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n}\n\n.toggle-slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #ccc;\n    transition: 0.4s;\n    border-radius: 24px;\n}\n\n.toggle-slider:before {\n    position: absolute;\n    content: \"\";\n    height: 18px;\n    width: 18px;\n    left: 3px;\n    bottom: 3px;\n    background-color: white;\n    transition: 0.4s;\n    border-radius: 50%;\n}\n\n.toggle-switch input:checked + .toggle-slider {\n    background-color: var(--primary-color);\n}\n\n.toggle-switch input:checked + .toggle-slider:before {\n    transform: translateX(26px);\n}\n\n.cards-stats {\n    display: flex;\n    gap: 2rem;\n    margin-bottom: 1.5rem;\n    padding: 1rem;\n    background: var(--bg-color);\n    border-radius: var(--border-radius);\n}\n\n.cards-stats span {\n    color: var(--secondary-color);\n}\n\n.cards-stats strong {\n    color: var(--primary-color);\n    font-size: 1.2rem;\n}\n\n.add-cards-section {\n    margin-bottom: 1.5rem;\n}\n\n.add-cards-section textarea {\n    width: 100%;\n    padding: 0.75rem;\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    font-family: monospace;\n    resize: vertical;\n    margin-bottom: 0.75rem;\n}\n\n.edit-cards-list {\n    max-height: 400px;\n    overflow-y: auto;\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n}\n\n.card-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0.75rem 1rem;\n    border-bottom: 1px solid var(--border-color);\n}\n\n.card-item:last-child {\n    border-bottom: none;\n}\n\n.card-item.claimed {\n    background: #f8f9fa;\n    opacity: 0.7;\n}\n\n.card-content {\n    flex: 1;\n    font-family: monospace;\n    color: var(--dark-color);\n}\n\n.card-status {\n    margin-right: 1rem;\n    padding: 0.25rem 0.5rem;\n    border-radius: 4px;\n    font-size: 0.75rem;\n    font-weight: 500;\n}\n\n.card-status.available {\n    background: #d4edda;\n    color: #155724;\n}\n\n.card-status.claimed {\n    background: #f8d7da;\n    color: #721c24;\n}\n\n.card-actions {\n    display: flex;\n    gap: 0.5rem;\n}\n",
    mimeType: 'text/css; charset=utf-8'
  },
  '/js/config.js': {
    content: "/**\r\n * CDK ç³»ç»Ÿé…ç½®æ–‡ä»¶\r\n * åœ¨è¿™é‡Œé…ç½® API åœ°å€å’Œå®‰å…¨å¯†é’¥\r\n */\r\n\r\n// é…ç½®å¯¹è±¡\r\nconst CDK_CONFIG = {\r\n    // API åŸºç¡€åœ°å€ - å•Workeræ¨¡å¼ä½¿ç”¨ç›¸å¯¹è·¯å¾„\r\n    // åœ¨æ„å»ºæ—¶ä¼šè‡ªåŠ¨è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„è°ƒç”¨API\r\n    API_BASE_URL: '',\r\n\r\n    // API å®‰å…¨å¯†é’¥ - å½“å‰å·²ç¦ç”¨ï¼Œç®€åŒ–å°é¡¹ç›®éƒ¨ç½²\r\n    // å¦‚éœ€å¯ç”¨ï¼Œè¯·åœ¨ Worker ä¸­å–æ¶ˆæ³¨é‡Šè®¤è¯ä¸­é—´ä»¶\r\n    API_SECRET_KEY: '',\r\n\r\n    // è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰\r\n    REQUEST_TIMEOUT: 30000,\r\n\r\n    // æ˜¯å¦å¯ç”¨è°ƒè¯•æ¨¡å¼\r\n    DEBUG_MODE: false,\r\n\r\n    // ç‰ˆæœ¬ä¿¡æ¯\r\n    VERSION: '3.0.0',\r\n\r\n    // Turnstile é…ç½®\r\n    TURNSTILE: {\r\n        SCRIPT_URL: 'https://challenges.cloudflare.com/turnstile/v0/api.js',\r\n        WIDGET_ID: null,\r\n        ENABLED: false,\r\n        SITE_KEY: ''\r\n    },\r\n\r\n    // LinuxDoConnect OAuth é…ç½®\r\n    AUTH: {\r\n        ENABLED: true,\r\n        REQUIRE_LOGIN: true, // æ˜¯å¦å…¨ç«™éœ€è¦ç™»å½•\r\n        LOGIN_URL: '/api/auth/login',\r\n        LOGOUT_URL: '/api/auth/logout',\r\n        USERINFO_URL: '/api/auth/userinfo',\r\n        CALLBACK_URL: '/api/auth/callback'\r\n    }\r\n};\r\n\r\n// å¯¼å‡ºé…ç½®ï¼ˆå…¼å®¹ä¸åŒçš„æ¨¡å—ç³»ç»Ÿï¼‰\r\nif (typeof module !== 'undefined' && module.exports) {\r\n    module.exports = CDK_CONFIG;\r\n} else if (typeof window !== 'undefined') {\r\n    window.CDK_CONFIG = CDK_CONFIG;\r\n}\r\n\r\n// é…ç½®éªŒè¯å‡½æ•°\r\nfunction validateConfig() {\r\n    const errors = [];\r\n\r\n    // å•Workeræ¨¡å¼ä¸‹ï¼ŒAPI_BASE_URLä¸ºç©ºæ˜¯æ­£å¸¸çš„\r\n    if (CDK_CONFIG.API_BASE_URL && CDK_CONFIG.API_BASE_URL === 'https://your-worker-domain.workers.dev') {\r\n        errors.push('è¯·é…ç½®æ­£ç¡®çš„ API_BASE_URL');\r\n    }\r\n\r\n    // APIå¯†é’¥å½“å‰å·²ç¦ç”¨ï¼Œä¸éœ€è¦éªŒè¯\r\n    if (CDK_CONFIG.API_SECRET_KEY && CDK_CONFIG.API_SECRET_KEY === 'your-secret-key-here') {\r\n        errors.push('è¯·é…ç½® API_SECRET_KEY å®‰å…¨å¯†é’¥');\r\n    }\r\n\r\n    if (errors.length > 0) {\r\n        console.warn('CDK é…ç½®è­¦å‘Š:', errors);\r\n        if (CDK_CONFIG.DEBUG_MODE) {\r\n            alert('é…ç½®é”™è¯¯:\\n' + errors.join('\\n'));\r\n        }\r\n    }\r\n\r\n    return errors.length === 0;\r\n}\r\n\r\n// è‡ªåŠ¨éªŒè¯é…ç½®\r\nif (typeof window !== 'undefined') {\r\n    document.addEventListener('DOMContentLoaded', validateConfig);\r\n}\r\n",
    mimeType: 'application/javascript; charset=utf-8'
  },
  '/js/utils.js': {
    content: "/**\n * å·¥å…·å‡½æ•°åº“\n */\n\n// DOM æ“ä½œå·¥å…·\nconst $ = (selector) => document.querySelector(selector);\nconst $$ = (selector) => document.querySelectorAll(selector);\n\n// æ˜¾ç¤º/éšè—å…ƒç´ \nfunction show(element) {\n    if (typeof element === 'string') {\n        element = $(element);\n    }\n    if (element) {\n        element.style.display = 'block';\n    }\n}\n\nfunction hide(element) {\n    if (typeof element === 'string') {\n        element = $(element);\n    }\n    if (element) {\n        element.style.display = 'none';\n    }\n}\n\n// é¡µé¢åˆ‡æ¢\nfunction showPage(pageId) {\n    // éšè—æ‰€æœ‰é¡µé¢\n    $$('.page').forEach(page => page.classList.remove('active'));\n    // æ˜¾ç¤ºç›®æ ‡é¡µé¢\n    const targetPage = $(pageId);\n    if (targetPage) {\n        targetPage.classList.add('active');\n    }\n}\n\n// åŠ è½½çŠ¶æ€ç®¡ç†\nfunction showLoading(message = 'å¤„ç†ä¸­...') {\n    const overlay = $('#loading-overlay');\n    const text = overlay.querySelector('p');\n    if (text) {\n        text.textContent = message;\n    }\n    show(overlay);\n}\n\nfunction hideLoading() {\n    hide('#loading-overlay');\n}\n\n// Toast é€šçŸ¥\nfunction showToast(message, type = 'info', duration = 3000) {\n    const container = $('#toast-container');\n    const toast = document.createElement('div');\n    toast.className = `toast ${type}`;\n    toast.textContent = message;\n    \n    container.appendChild(toast);\n    \n    // è‡ªåŠ¨ç§»é™¤\n    setTimeout(() => {\n        if (toast.parentNode) {\n            toast.parentNode.removeChild(toast);\n        }\n    }, duration);\n}\n\n// è¡¨å•éªŒè¯\nfunction validateForm(formId) {\n    const form = $(formId);\n    if (!form) return false;\n    \n    const inputs = form.querySelectorAll('input[required], textarea[required]');\n    let isValid = true;\n    \n    inputs.forEach(input => {\n        if (!input.value.trim()) {\n            input.classList.add('error');\n            isValid = false;\n        } else {\n            input.classList.remove('error');\n        }\n    });\n    \n    return isValid;\n}\n\n// æ¸…ç©ºè¡¨å•\nfunction clearForm(formId) {\n    const form = $(formId);\n    if (form) {\n        form.reset();\n        // ç§»é™¤é”™è¯¯æ ·å¼\n        form.querySelectorAll('.error').forEach(el => {\n            el.classList.remove('error');\n        });\n    }\n}\n\n// å¤åˆ¶åˆ°å‰ªè´´æ¿\nasync function copyToClipboard(text) {\n    try {\n        await navigator.clipboard.writeText(text);\n        showToast('å¤åˆ¶æˆåŠŸ', 'success');\n        return true;\n    } catch (err) {\n        // é™çº§æ–¹æ¡ˆ\n        const textArea = document.createElement('textarea');\n        textArea.value = text;\n        document.body.appendChild(textArea);\n        textArea.select();\n        try {\n            document.execCommand('copy');\n            showToast('å¤åˆ¶æˆåŠŸ', 'success');\n            return true;\n        } catch (err) {\n            showToast('å¤åˆ¶å¤±è´¥', 'error');\n            return false;\n        } finally {\n            document.body.removeChild(textArea);\n        }\n    }\n}\n\n// æ ¼å¼åŒ–æ—¥æœŸ\nfunction formatDate(dateString) {\n    const date = new Date(dateString);\n    return date.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n    });\n}\n\n// è§£æå¡å¯†å†…å®¹\nfunction parseCards(input, format = 'text') {\n    if (!input || !input.trim()) return [];\n    \n    try {\n        switch (format) {\n            case 'json':\n                const parsed = JSON.parse(input);\n                if (Array.isArray(parsed)) {\n                    return parsed.map(item => \n                        typeof item === 'string' ? item : JSON.stringify(item)\n                    );\n                }\n                return [JSON.stringify(parsed)];\n            \n            case 'csv':\n                return input.split(/[,ï¼Œ]/).map(card => card.trim()).filter(card => card);\n            \n            case 'text':\n            default:\n                return input.split('\\n').map(card => card.trim()).filter(card => card);\n        }\n    } catch (error) {\n        // é™çº§åˆ°æ–‡æœ¬æ ¼å¼\n        return input.split('\\n').map(card => card.trim()).filter(card => card);\n    }\n}\n\n// å»é‡\nfunction removeDuplicates(array) {\n    return [...new Set(array)];\n}\n\n// é˜²æŠ–å‡½æ•°\nfunction debounce(func, wait) {\n    let timeout;\n    return function executedFunction(...args) {\n        const later = () => {\n            clearTimeout(timeout);\n            func(...args);\n        };\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n    };\n}\n\n// èŠ‚æµå‡½æ•°\nfunction throttle(func, limit) {\n    let inThrottle;\n    return function() {\n        const args = arguments;\n        const context = this;\n        if (!inThrottle) {\n            func.apply(context, args);\n            inThrottle = true;\n            setTimeout(() => inThrottle = false, limit);\n        }\n    }\n}\n\n// è·å–URLå‚æ•°\nfunction getUrlParams() {\n    const params = new URLSearchParams(window.location.search);\n    const result = {};\n    for (const [key, value] of params) {\n        result[key] = value;\n    }\n    return result;\n}\n\n// è®¾ç½®URLå‚æ•°\nfunction setUrlParams(params) {\n    const url = new URL(window.location);\n    Object.keys(params).forEach(key => {\n        if (params[key] !== null && params[key] !== undefined) {\n            url.searchParams.set(key, params[key]);\n        } else {\n            url.searchParams.delete(key);\n        }\n    });\n    window.history.replaceState({}, '', url);\n}\n\n// æœ¬åœ°å­˜å‚¨å·¥å…·\nconst storage = {\n    set(key, value) {\n        try {\n            localStorage.setItem(key, JSON.stringify(value));\n        } catch (e) {\n            console.error('Storage set error:', e);\n        }\n    },\n    \n    get(key, defaultValue = null) {\n        try {\n            const item = localStorage.getItem(key);\n            return item ? JSON.parse(item) : defaultValue;\n        } catch (e) {\n            console.error('Storage get error:', e);\n            return defaultValue;\n        }\n    },\n    \n    remove(key) {\n        try {\n            localStorage.removeItem(key);\n        } catch (e) {\n            console.error('Storage remove error:', e);\n        }\n    },\n    \n    clear() {\n        try {\n            localStorage.clear();\n        } catch (e) {\n            console.error('Storage clear error:', e);\n        }\n    }\n};\n\n// é”™è¯¯å¤„ç†\nfunction handleError(error, userMessage = 'æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•') {\n    console.error('Error:', error);\n    showToast(userMessage, 'error');\n}\n\n// ç¡®è®¤å¯¹è¯æ¡†\nfunction confirmAction(message, callback) {\n    if (window.confirm(message)) {\n        callback();\n    }\n}\n\n// æ•°å­—æ ¼å¼åŒ–\nfunction formatNumber(num) {\n    return num.toLocaleString('zh-CN');\n}\n\n// æ–‡ä»¶å¤§å°æ ¼å¼åŒ–\nfunction formatFileSize(bytes) {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n}\n",
    mimeType: 'application/javascript; charset=utf-8'
  },
  '/js/api.js': {
    content: "/**\r\n * API å®¢æˆ·ç«¯\r\n */\r\n\r\n// API é…ç½® - ä½¿ç”¨å…¨å±€é…ç½®\r\nfunction getApiConfig() {\r\n    if (window.CDK_CONFIG) {\r\n        return {\r\n            baseUrl: window.CDK_CONFIG.API_BASE_URL + '/api',\r\n            timeout: window.CDK_CONFIG.REQUEST_TIMEOUT,\r\n            secretKey: window.CDK_CONFIG.API_SECRET_KEY,\r\n            retries: 3\r\n        };\r\n    }\r\n    // å›é€€é…ç½®\r\n    return {\r\n        baseUrl: '/api',\r\n        timeout: 30000,\r\n        secretKey: null,\r\n        retries: 3\r\n    };\r\n}\r\n\r\n// HTTP å®¢æˆ·ç«¯\r\nclass HttpClient {\r\n    constructor() {\r\n        this.config = getApiConfig();\r\n    }\r\n\r\n    async request(endpoint, options = {}) {\r\n        const url = `${this.config.baseUrl}${endpoint}`;\r\n        const headers = {\r\n            'Content-Type': 'application/json',\r\n        };\r\n\r\n        // æ·»åŠ å®‰å…¨å¯†é’¥åˆ°è¯·æ±‚å¤´ï¼ˆå½“å‰å·²ç¦ç”¨ï¼‰\r\n        if (this.config.secretKey && this.config.secretKey !== 'your-secret-key-here' && this.config.secretKey !== '') {\r\n            headers['X-API-Key'] = this.config.secretKey;\r\n        }\r\n\r\n        const config = {\r\n            method: 'GET',\r\n            headers,\r\n            ...options\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(url, config);\r\n            const data = await response.json();\r\n\r\n            if (!response.ok) {\r\n                throw new Error(data.error || `HTTP ${response.status}: ${response.statusText}`);\r\n            }\r\n\r\n            return data;\r\n        } catch (error) {\r\n            console.error('API request failed:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async get(endpoint) {\r\n        return this.request(endpoint, { method: 'GET' });\r\n    }\r\n\r\n    async post(endpoint, data) {\r\n        return this.request(endpoint, {\r\n            method: 'POST',\r\n            body: JSON.stringify(data)\r\n        });\r\n    }\r\n\r\n    async put(endpoint, data) {\r\n        return this.request(endpoint, {\r\n            method: 'PUT',\r\n            body: JSON.stringify(data)\r\n        });\r\n    }\r\n\r\n    async delete(endpoint, data = null) {\r\n        const options = { method: 'DELETE' };\r\n        if (data) {\r\n            options.body = JSON.stringify(data);\r\n        }\r\n        return this.request(endpoint, options);\r\n    }\r\n}\r\n\r\n// API å®¢æˆ·ç«¯å®ä¾‹\r\nconst apiClient = new HttpClient();\r\n\r\n// API æ–¹æ³•\r\nconst API = {\r\n    // å¥åº·æ£€æŸ¥\r\n    async health() {\r\n        return apiClient.get('/health');\r\n    },\r\n\r\n    // é¡¹ç›®ç®¡ç†\r\n    projects: {\r\n        // åˆ›å»ºé¡¹ç›®\r\n        async create(projectData) {\r\n            return apiClient.post('/projects', projectData);\r\n        },\r\n\r\n        // è·å–é¡¹ç›®åˆ—è¡¨\r\n        async list() {\r\n            return apiClient.get('/projects');\r\n        },\r\n\r\n        // è·å–å•ä¸ªé¡¹ç›®\r\n        async get(id) {\r\n            return apiClient.get(`/projects/${id}`);\r\n        },\r\n\r\n        // æ›´æ–°é¡¹ç›®\r\n        async update(id, updates) {\r\n            return apiClient.put(`/projects/${id}`, updates);\r\n        },\r\n\r\n        // åˆ é™¤é¡¹ç›®\r\n        async delete(id, data = null) {\r\n            return apiClient.delete(`/projects/${id}`, data);\r\n        },\r\n\r\n        // æ·»åŠ å¡å¯†\r\n        async addCards(id, cardsData) {\r\n            return apiClient.post(`/projects/${id}/cards`, cardsData);\r\n        },\r\n\r\n        // åˆ é™¤å¡å¯†\r\n        async deleteCard(projectId, cardId, adminPassword) {\r\n            return apiClient.delete(`/projects/${projectId}/cards/${cardId}`, { adminPassword });\r\n        },\r\n\r\n        // åˆ‡æ¢é¡¹ç›®çŠ¶æ€ï¼ˆå¯ç”¨/ç¦ç”¨ï¼‰\r\n        async toggleStatus(projectId, isActive, adminPassword) {\r\n            return apiClient.post(`/projects/${projectId}/toggle-status`, { isActive, adminPassword });\r\n        },\r\n\r\n        // è·å–é¡¹ç›®ç»Ÿè®¡\r\n        async getStats(id, adminPassword) {\r\n            return apiClient.post(`/projects/${id}/stats`, { adminPassword });\r\n        },\r\n\r\n        // éªŒè¯ç®¡ç†å¯†ç \r\n        async verifyAdminPassword(projectId, adminPassword) {\r\n            return apiClient.post('/verify-admin', { projectId, adminPassword });\r\n        }\r\n    },\r\n\r\n    // å¡å¯†é¢†å–\r\n    claim: {\r\n        // éªŒè¯å¯†ç \r\n        async verifyPassword(projectId, password) {\r\n            return apiClient.post('/verify', {\r\n                projectId,\r\n                password\r\n            });\r\n        },\r\n\r\n        // é¢†å–å¡å¯†\r\n        async claimCard(projectId, claimData) {\r\n            return apiClient.post('/claim', {\r\n                projectId,\r\n                ...claimData\r\n            });\r\n        },\r\n\r\n        // è·å–é¢†å–çŠ¶æ€\r\n        async getStatus(projectId) {\r\n            return apiClient.get(`/claim/${projectId}`);\r\n        }\r\n    },\r\n\r\n    // ç®¡ç†å‘˜åŠŸèƒ½\r\n    admin: {\r\n        // è·å–ç”¨æˆ·åˆ—è¡¨\r\n        async getUsers() {\r\n            return apiClient.get('/admin/users');\r\n        },\r\n\r\n        // è·å–ç”¨æˆ·ç»Ÿè®¡\r\n        async getUserStats() {\r\n            return apiClient.get('/admin/users/stats');\r\n        },\r\n\r\n        // å°ç¦ç”¨æˆ·\r\n        async banUser(userId, reason) {\r\n            return apiClient.post('/admin/users/ban', { userId, reason });\r\n        },\r\n\r\n        // è§£ç¦ç”¨æˆ·\r\n        async unbanUser(userId) {\r\n            return apiClient.post('/admin/users/unban', { userId });\r\n        }\r\n    }\r\n};\r\n\r\n// API é”™è¯¯å¤„ç†è£…é¥°å™¨\r\nfunction withErrorHandling(apiMethod) {\r\n    return async function(...args) {\r\n        try {\r\n            showLoading();\r\n            const result = await apiMethod.apply(this, args);\r\n            hideLoading();\r\n            return result;\r\n        } catch (error) {\r\n            hideLoading();\r\n            \r\n            // æ ¹æ®é”™è¯¯ç±»å‹æ˜¾ç¤ºä¸åŒçš„æ¶ˆæ¯\r\n            let message = 'æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•';\r\n            \r\n            if (error.message.includes('404')) {\r\n                message = 'èµ„æºä¸å­˜åœ¨';\r\n            } else if (error.message.includes('401')) {\r\n                message = 'å¯†ç é”™è¯¯';\r\n            } else if (error.message.includes('403')) {\r\n                message = 'è®¿é—®è¢«æ‹’ç»';\r\n            } else if (error.message.includes('410')) {\r\n                message = 'å¡å¯†å·²å…¨éƒ¨é¢†å®Œ';\r\n            } else if (error.message.includes('429')) {\r\n                message = 'è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åé‡è¯•';\r\n            } else if (error.message.includes('500')) {\r\n                message = 'æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•';\r\n            } else if (error.message.includes('ç½‘ç»œ')) {\r\n                message = 'ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ';\r\n            }\r\n            \r\n            showToast(message, 'error');\r\n            throw error;\r\n        }\r\n    };\r\n}\r\n\r\n// åŒ…è£… API æ–¹æ³•ä»¥æ·»åŠ é”™è¯¯å¤„ç†\r\nconst wrappedAPI = {\r\n    health: withErrorHandling(API.health),\r\n    \r\n    projects: {\r\n        create: withErrorHandling(API.projects.create),\r\n        list: withErrorHandling(API.projects.list),\r\n        get: withErrorHandling(API.projects.get),\r\n        update: withErrorHandling(API.projects.update),\r\n        delete: withErrorHandling(API.projects.delete),\r\n        addCards: withErrorHandling(API.projects.addCards),\r\n        deleteCard: withErrorHandling(API.projects.deleteCard),\r\n        toggleStatus: withErrorHandling(API.projects.toggleStatus),\r\n        getStats: withErrorHandling(API.projects.getStats),\r\n        verifyAdminPassword: withErrorHandling(API.projects.verifyAdminPassword)\r\n    },\r\n    \r\n    claim: {\r\n        verifyPassword: withErrorHandling(API.claim.verifyPassword),\r\n        claimCard: withErrorHandling(API.claim.claimCard),\r\n        getStatus: withErrorHandling(API.claim.getStatus)\r\n    }\r\n};\r\n\r\n// å¯¼å‡º API\r\nwindow.API = wrappedAPI;\r\n",
    mimeType: 'application/javascript; charset=utf-8'
  },
  '/js/auth.js': {
    content: "/**\n * LinuxDoConnect Authentication Manager\n * Handles user authentication, session management, and login state\n */\n\nconsole.log('ğŸ” Auth Manager loaded');\n\nclass AuthManager {\n    constructor() {\n        this.currentUser = null;\n        this.isAuthenticated = false;\n        this.checkingAuth = false;\n        this.isAdmin = false;\n    }\n\n    /**\n     * Initialize authentication\n     * Check if user is already logged in\n     */\n    async init() {\n        console.log('[AUTH] Initializing authentication...');\n\n        try {\n            // Check URL for OAuth callback\n            const urlParams = new URLSearchParams(window.location.search);\n            const error = urlParams.get('error');\n\n            if (error) {\n                this.showError(`ç™»å½•å¤±è´¥: ${decodeURIComponent(error)}`);\n                return false;\n            }\n\n            // Check if user is already authenticated\n            const authenticated = await this.checkAuth();\n\n            if (authenticated) {\n                console.log('[AUTH] User is authenticated:', this.currentUser?.username);\n                // If authenticated, remove login=required parameter\n                if (urlParams.has('login')) {\n                    urlParams.delete('login');\n                    const newUrl = window.location.pathname + (urlParams.toString() ? '?' + urlParams.toString() : '');\n                    window.history.replaceState({}, '', newUrl);\n                }\n                return true;\n            } else {\n                console.log('[AUTH] User is not authenticated');\n                return false;\n            }\n        } catch (error) {\n            console.error('[AUTH] Init error:', error);\n            return false;\n        }\n    }\n\n    /**\n     * Check if user is authenticated\n     */\n    async checkAuth() {\n        // If already checking, wait for the current check to complete\n        if (this.checkingAuth) {\n            console.log('[AUTH] Already checking auth, waiting...');\n            // Wait for the current check to complete\n            while (this.checkingAuth) {\n                await new Promise(resolve => setTimeout(resolve, 100));\n            }\n            return this.isAuthenticated;\n        }\n\n        this.checkingAuth = true;\n\n        try {\n            const response = await fetch('/api/auth/userinfo', {\n                method: 'GET',\n                credentials: 'include',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n\n            if (response.ok) {\n                const result = await response.json();\n                if (result.success && result.data) {\n                    this.currentUser = result.data;\n                    this.isAuthenticated = true;\n                    this.isAdmin = result.data.isAdmin || false;\n                    this.updateUI();\n                    return true;\n                }\n            }\n\n            this.isAuthenticated = false;\n            this.currentUser = null;\n            return false;\n        } catch (error) {\n            console.error('[AUTH] Check auth error:', error);\n            this.isAuthenticated = false;\n            this.currentUser = null;\n            return false;\n        } finally {\n            this.checkingAuth = false;\n        }\n    }\n\n    /**\n     * Redirect to login\n     */\n    async redirectToLogin(returnTo) {\n        try {\n            const currentPath = returnTo || window.location.pathname + window.location.search;\n            const encodedReturnTo = encodeURIComponent(currentPath);\n            \n            console.log('[AUTH] Getting login URL, return to:', currentPath);\n            \n            const response = await fetch(`/api/auth/login?return_to=${encodedReturnTo}`, {\n                method: 'GET',\n                credentials: 'include'\n            });\n\n            if (response.ok) {\n                const result = await response.json();\n                if (result.success && result.data.authUrl) {\n                    console.log('[AUTH] Redirecting to LinuxDo login...');\n                    window.location.href = result.data.authUrl;\n                    return;\n                }\n            }\n\n            throw new Error('Failed to get login URL');\n        } catch (error) {\n            console.error('[AUTH] Redirect to login error:', error);\n            this.showError('æ— æ³•è·³è½¬åˆ°ç™»å½•é¡µé¢,è¯·åˆ·æ–°é‡è¯•');\n        }\n    }\n\n    /**\n     * Logout\n     */\n    async logout() {\n        try {\n            console.log('[AUTH] Logging out...');\n            \n            const response = await fetch('/api/auth/logout', {\n                method: 'POST',\n                credentials: 'include',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n\n            this.isAuthenticated = false;\n            this.currentUser = null;\n            \n            // Redirect to home with login required\n            window.location.href = '/?login=required';\n        } catch (error) {\n            console.error('[AUTH] Logout error:', error);\n            this.showError('ç™»å‡ºå¤±è´¥,è¯·åˆ·æ–°é‡è¯•');\n        }\n    }\n\n    /**\n     * Require authentication\n     * If not authenticated, redirect to login\n     */\n    async requireAuth() {\n        const authenticated = await this.checkAuth();\n\n        if (!authenticated) {\n            console.log('[AUTH] Authentication required, redirecting to login...');\n            await this.redirectToLogin();\n            return false;\n        }\n\n        return true;\n    }\n\n    /**\n     * Check if current user is admin\n     * Admin status is determined by backend API\n     */\n    checkIsAdmin() {\n        return this.isAdmin;\n    }\n\n    /**\n     * Update UI with user information\n     */\n    updateUI() {\n        if (!this.isAuthenticated || !this.currentUser) {\n            this.showLoginButton();\n            this.hideNavButtons();\n            return;\n        }\n\n        this.showUserInfo();\n        this.showNavButtons();\n    }\n\n    /**\n     * Show navigation buttons (home)\n     */\n    showNavButtons() {\n        const navHome = document.getElementById('nav-home');\n        if (navHome) navHome.style.display = '';\n    }\n\n    /**\n     * Hide navigation buttons (home)\n     */\n    hideNavButtons() {\n        const navHome = document.getElementById('nav-home');\n        if (navHome) navHome.style.display = 'none';\n    }\n\n    /**\n     * Show login button\n     */\n    showLoginButton() {\n        // Update navigation bar\n        const navUserInfoEl = document.getElementById('nav-user-info');\n        if (navUserInfoEl) {\n            navUserInfoEl.innerHTML = '';\n        }\n\n        // Update login page\n        const loginUserInfoEl = document.getElementById('login-user-info');\n        if (loginUserInfoEl) {\n            loginUserInfoEl.innerHTML = `\n                <button id=\"btn-login\" class=\"btn btn-primary\">\n                    <span>ä½¿ç”¨ Linux.do ç™»å½•</span>\n                </button>\n            `;\n\n            const loginBtn = document.getElementById('btn-login');\n            if (loginBtn) {\n                loginBtn.addEventListener('click', () => this.redirectToLogin());\n            }\n        }\n    }\n\n    /**\n     * Show user information\n     */\n    showUserInfo() {\n        const navUserInfoEl = document.getElementById('nav-user-info');\n        if (navUserInfoEl && this.currentUser) {\n            const avatarHtml = this.currentUser.avatarUrl\n                ? `<img src=\"${this.currentUser.avatarUrl}\" alt=\"${this.currentUser.username}\" class=\"user-avatar\">`\n                : `<div class=\"user-avatar-placeholder\">${this.currentUser.username.charAt(0).toUpperCase()}</div>`;\n\n            navUserInfoEl.innerHTML = `\n                <div class=\"user-info-container\">\n                    ${avatarHtml}\n                    <div class=\"user-details\">\n                        <span class=\"user-name\">${this.currentUser.name || this.currentUser.username}</span>\n                        <span class=\"user-username\">@${this.currentUser.username}</span>\n                    </div>\n                    <button id=\"btn-logout\" class=\"btn btn-secondary btn-sm\">ç™»å‡º</button>\n                </div>\n            `;\n\n            const logoutBtn = document.getElementById('btn-logout');\n            if (logoutBtn) {\n                logoutBtn.addEventListener('click', () => this.logout());\n            }\n        }\n\n        // Show/hide admin button based on admin status\n        const adminBtn = document.getElementById('nav-admin');\n        if (adminBtn) {\n            if (this.checkIsAdmin()) {\n                adminBtn.style.display = 'inline-block';\n            } else {\n                adminBtn.style.display = 'none';\n            }\n        }\n    }\n\n    /**\n     * Show error message\n     */\n    showError(message) {\n        console.error('[AUTH] Error:', message);\n        \n        // Try to show in UI if available\n        const errorEl = document.getElementById('auth-error');\n        if (errorEl) {\n            errorEl.textContent = message;\n            errorEl.style.display = 'block';\n            \n            setTimeout(() => {\n                errorEl.style.display = 'none';\n            }, 5000);\n        } else {\n            alert(message);\n        }\n    }\n\n    /**\n     * Get current user\n     */\n    getCurrentUser() {\n        return this.currentUser;\n    }\n\n    /**\n     * Check if authenticated\n     */\n    isLoggedIn() {\n        return this.isAuthenticated;\n    }\n}\n\n// Create global instance\nwindow.AuthManager = new AuthManager();\n\n// Note: Initialization is handled by app.js to avoid race conditions\n// Do not auto-initialize here\n\n",
    mimeType: 'application/javascript; charset=utf-8'
  },
  '/js/turnstile.js': {
    content: "/**\n * Cloudflare Turnstile ç®¡ç†å™¨ - ä¼˜åŒ–ç‰ˆæœ¬ v2.0\n * è´Ÿè´£æŒ‰éœ€åŠ è½½ã€æ¸²æŸ“å’Œç®¡ç† Turnstile éªŒè¯ç»„ä»¶\n * åŸºäºå®˜æ–¹æœ€ä½³å®è·µå’Œ cloud-mail é¡¹ç›®ä¼˜åŒ–\n * åªåœ¨é¢†å–å¯†é’¥æ—¶éªŒè¯ï¼Œä¸åœ¨é¡¹ç›®åˆ›å»ºæ—¶éªŒè¯\n */\n\n\n\nclass TurnstileManager {\n    constructor() {\n        this.config = {\n            SCRIPT_URL: 'https://challenges.cloudflare.com/turnstile/v0/api.js',\n            SITEVERIFY_URL: 'https://challenges.cloudflare.com/turnstile/v0/siteverify',\n            RETRY_ATTEMPTS: 3,\n            RETRY_DELAY: 1000,\n            LOAD_TIMEOUT: 10000\n        };\n\n        this.isLoaded = false;\n        this.isLoading = false;\n        this.isEnabled = false;\n        this.siteKey = '';\n        this.widgetId = null;\n        this.token = null;\n        this.retryCount = 0;\n        this.loadPromise = null;\n\n        this.callbacks = {\n            onSuccess: [],\n            onError: [],\n            onExpired: [],\n            onLoad: [],\n            onTimeout: []\n        };\n\n        // é”™è¯¯ä»£ç æ˜ å°„\n        this.errorMessages = {\n            '100000': 'ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥',\n            '100001': 'éªŒè¯å¤±è´¥ï¼Œè¯·é‡è¯•',\n            '100002': 'éªŒè¯è¶…æ—¶ï¼Œè¯·é‡è¯•',\n            '100003': 'éªŒè¯è¢«æ‹’ç»ï¼Œè¯·é‡è¯•',\n            '100004': 'éªŒè¯é¢‘ç‡è¿‡é«˜ï¼Œè¯·ç¨åé‡è¯•',\n            '100005': 'éªŒè¯ç¯å¢ƒå¼‚å¸¸ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•',\n            '100006': 'éªŒè¯é…ç½®é”™è¯¯ï¼Œè¯·è”ç³»ç®¡ç†å‘˜',\n            '100007': 'éªŒè¯æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•',\n            '100008': 'æµè§ˆå™¨ä¸æ”¯æŒï¼Œè¯·æ›´æ–°æµè§ˆå™¨',\n            '100009': 'éªŒè¯å·²è¿‡æœŸï¼Œè¯·é‡æ–°éªŒè¯',\n            '100010': 'éªŒè¯ä»¤ç‰Œæ— æ•ˆï¼Œè¯·é‡æ–°éªŒè¯'\n        };\n    }\n\n    /**\n     * æ£€æŸ¥é…ç½®ï¼ˆä¸åŠ è½½è„šæœ¬ï¼‰\n     */\n    async checkConfig() {\n        try {\n\n\n            // è·å–æœåŠ¡å™¨é…ç½®\n            const configResponse = await fetch('/api/turnstile/config');\n            const configData = await configResponse.json();\n\n            if (!configData.success) {\n                console.warn('[TURNSTILE] è·å–é…ç½®å¤±è´¥:', configData.error);\n                return false;\n            }\n\n            this.isEnabled = configData.data.enabled;\n            this.siteKey = configData.data.siteKey;\n\n\n\n            return true;\n        } catch (error) {\n            console.error('[TURNSTILE] é…ç½®æ£€æŸ¥å¤±è´¥:', error);\n            return false;\n        }\n    }\n\n    /**\n     * æŒ‰éœ€åˆå§‹åŒ– Turnstileï¼ˆåªåœ¨éœ€è¦æ—¶åŠ è½½è„šæœ¬ï¼‰\n     */\n    async init() {\n        if (!this.isEnabled) {\n\n            return true;\n        }\n\n        if (!this.siteKey) {\n            console.warn('[TURNSTILE] ç¼ºå°‘ Site Key');\n            return false;\n        }\n\n        try {\n\n            await this.loadScript();\n            return true;\n        } catch (error) {\n            console.error('[TURNSTILE] åˆå§‹åŒ–å¤±è´¥:', error);\n            return false;\n        }\n    }\n\n    /**\n     * åŠ è½½ Turnstile è„šæœ¬ï¼ˆå¸¦é‡è¯•å’Œè¶…æ—¶æœºåˆ¶ï¼‰\n     */\n    loadScript() {\n        // å¦‚æœå·²ç»åœ¨åŠ è½½ä¸­ï¼Œè¿”å›ç°æœ‰çš„ Promise\n        if (this.loadPromise) {\n            return this.loadPromise;\n        }\n\n        // å¦‚æœå·²ç»åŠ è½½å®Œæˆ\n        if (this.isLoaded || window.turnstile) {\n\n            this.isLoaded = true;\n            this.triggerCallbacks('onLoad');\n            return Promise.resolve();\n        }\n\n\n        this.isLoading = true;\n\n        this.loadPromise = new Promise((resolve, reject) => {\n            const attemptLoad = (attempt = 1) => {\n                const script = document.createElement('script');\n                script.src = this.config.SCRIPT_URL;\n                script.async = true;\n                script.defer = true;\n\n                // è®¾ç½®è¶…æ—¶\n                const timeout = setTimeout(() => {\n                    script.remove();\n                    console.warn(`[TURNSTILE] è„šæœ¬åŠ è½½è¶…æ—¶ (å°è¯• ${attempt}/${this.config.RETRY_ATTEMPTS})`);\n\n                    if (attempt < this.config.RETRY_ATTEMPTS) {\n                        setTimeout(() => attemptLoad(attempt + 1), this.config.RETRY_DELAY);\n                    } else {\n                        this.isLoading = false;\n                        this.triggerCallbacks('onTimeout');\n                        reject(new Error('è„šæœ¬åŠ è½½è¶…æ—¶'));\n                    }\n                }, this.config.LOAD_TIMEOUT);\n\n                script.onload = () => {\n                    clearTimeout(timeout);\n\n                    this.isLoaded = true;\n                    this.isLoading = false;\n                    this.triggerCallbacks('onLoad');\n                    resolve();\n                };\n\n                script.onerror = (error) => {\n                    clearTimeout(timeout);\n                    script.remove();\n                    console.error(`[TURNSTILE] è„šæœ¬åŠ è½½å¤±è´¥ (å°è¯• ${attempt}/${this.config.RETRY_ATTEMPTS}):`, error);\n\n                    if (attempt < this.config.RETRY_ATTEMPTS) {\n                        setTimeout(() => attemptLoad(attempt + 1), this.config.RETRY_DELAY);\n                    } else {\n                        this.isLoading = false;\n                        reject(error);\n                    }\n                };\n\n                document.head.appendChild(script);\n            };\n\n            attemptLoad();\n        });\n\n        return this.loadPromise;\n    }\n\n    /**\n     * æ¸²æŸ“ Turnstile ç»„ä»¶ï¼ˆå¸¦åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†ï¼‰\n     */\n    async render(container, options = {}) {\n        if (!this.isEnabled) {\n\n            return null;\n        }\n\n        if (!this.siteKey) {\n            console.warn('[TURNSTILE] ç¼ºå°‘ Site Keyï¼Œæ— æ³•æ¸²æŸ“');\n            return null;\n        }\n\n        try {\n            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€\n            this.showLoadingState(container);\n\n            // ç¡®ä¿è„šæœ¬å·²åŠ è½½\n            if (!this.isLoaded || !window.turnstile) {\n\n                await this.loadScript();\n            }\n\n            // éšè—åŠ è½½çŠ¶æ€\n            this.hideLoadingState(container);\n\n\n\n            const renderOptions = {\n                sitekey: this.siteKey,\n                callback: (token) => this.onSuccess(token),\n                'error-callback': (error) => this.onError(error),\n                'expired-callback': () => this.onExpired(),\n                theme: options.theme || 'auto',\n                size: options.size || 'normal',\n                ...options\n            };\n\n            this.widgetId = window.turnstile.render(container, renderOptions);\n\n\n            return this.widgetId;\n        } catch (error) {\n            console.error('[TURNSTILE] æ¸²æŸ“å¤±è´¥:', error);\n            this.hideLoadingState(container);\n            this.showErrorState(container, error);\n            return null;\n        }\n    }\n\n    /**\n     * è·å–å½“å‰ token\n     */\n    getToken() {\n        if (!this.isEnabled) {\n            return null;\n        }\n\n        if (!this.isLoaded || !window.turnstile || !this.widgetId) {\n            return this.token;\n        }\n\n        try {\n            const token = window.turnstile.getResponse(this.widgetId);\n            this.token = token;\n            return token;\n        } catch (error) {\n            console.error('[TURNSTILE] è·å– token å¤±è´¥:', error);\n            return this.token;\n        }\n    }\n\n    /**\n     * é‡ç½®ç»„ä»¶\n     */\n    reset() {\n        if (!this.isEnabled || !this.isLoaded || !window.turnstile || !this.widgetId) {\n            return;\n        }\n\n        try {\n            window.turnstile.reset(this.widgetId);\n            this.token = null;\n\n        } catch (error) {\n            console.error('[TURNSTILE] é‡ç½®å¤±è´¥:', error);\n        }\n    }\n\n    /**\n     * ç§»é™¤ç»„ä»¶\n     */\n    remove() {\n        if (!this.isEnabled || !this.isLoaded || !window.turnstile || !this.widgetId) {\n            return;\n        }\n\n        try {\n            window.turnstile.remove(this.widgetId);\n            this.widgetId = null;\n            this.token = null;\n\n        } catch (error) {\n            console.error('[TURNSTILE] ç§»é™¤å¤±è´¥:', error);\n        }\n    }\n\n    /**\n     * æˆåŠŸå›è°ƒ\n     */\n    onSuccess(token) {\n\n        this.token = token;\n        this.callbacks.onSuccess.forEach(callback => {\n            try {\n                callback(token);\n            } catch (error) {\n                console.error('[TURNSTILE] æˆåŠŸå›è°ƒæ‰§è¡Œå¤±è´¥:', error);\n            }\n        });\n    }\n\n    /**\n     * é”™è¯¯å›è°ƒï¼ˆå¢å¼ºé”™è¯¯å¤„ç†ï¼‰\n     */\n    onError(errorCode) {\n        console.error('[TURNSTILE] éªŒè¯å¤±è´¥:', errorCode);\n        this.token = null;\n\n        // è·å–å‹å¥½çš„é”™è¯¯æ¶ˆæ¯\n        const errorMessage = this.getErrorMessage(errorCode);\n        console.error('[TURNSTILE] é”™è¯¯è¯¦æƒ…:', errorMessage);\n\n        // å¯¹äºæµ‹è¯•ç¯å¢ƒï¼ŒæŸäº›é”™è¯¯æ˜¯æ­£å¸¸çš„\n        if (this.isTestEnvironment()) {\n\n            this.token = 'test-token-' + Date.now();\n            this.onSuccess(this.token);\n            return;\n        }\n\n        // å¯¹äºæŸäº›å¯é‡è¯•çš„é”™è¯¯ï¼Œè‡ªåŠ¨é‡è¯•\n        if (this.shouldRetry(errorCode) && this.retryCount < this.config.RETRY_ATTEMPTS) {\n            this.retryCount++;\n\n\n            setTimeout(() => {\n                this.reset();\n            }, this.config.RETRY_DELAY);\n            return;\n        }\n\n        // é‡ç½®é‡è¯•è®¡æ•°\n        this.retryCount = 0;\n\n        this.callbacks.onError.forEach(callback => {\n            try {\n                callback(errorCode, errorMessage);\n            } catch (err) {\n                console.error('[TURNSTILE] é”™è¯¯å›è°ƒæ‰§è¡Œå¤±è´¥:', err);\n            }\n        });\n    }\n\n    /**\n     * è¿‡æœŸå›è°ƒ\n     */\n    onExpired() {\n        console.warn('[TURNSTILE] éªŒè¯å·²è¿‡æœŸ');\n        this.token = null;\n        this.callbacks.onExpired.forEach(callback => {\n            try {\n                callback();\n            } catch (error) {\n                console.error('[TURNSTILE] è¿‡æœŸå›è°ƒæ‰§è¡Œå¤±è´¥:', error);\n            }\n        });\n    }\n\n    /**\n     * æ·»åŠ äº‹ä»¶ç›‘å¬å™¨\n     */\n    addEventListener(event, callback) {\n        if (this.callbacks[event]) {\n            this.callbacks[event].push(callback);\n        }\n    }\n\n    /**\n     * ç§»é™¤äº‹ä»¶ç›‘å¬å™¨\n     */\n    removeEventListener(event, callback) {\n        if (this.callbacks[event]) {\n            const index = this.callbacks[event].indexOf(callback);\n            if (index > -1) {\n                this.callbacks[event].splice(index, 1);\n            }\n        }\n    }\n\n    /**\n     * æ£€æŸ¥æ˜¯å¦å·²éªŒè¯\n     */\n    isVerified() {\n        return this.isEnabled ? !!this.token : true;\n    }\n\n    /**\n     * è·å–éªŒè¯æ•°æ®ï¼ˆç”¨äºè¡¨å•æäº¤ï¼‰\n     */\n    getVerificationData() {\n        if (!this.isEnabled) {\n            return {};\n        }\n\n        return {\n            'cf-turnstile-response': this.getToken(),\n            turnstileToken: this.getToken()\n        };\n    }\n\n    // ========== æ–°å¢è¾…åŠ©æ–¹æ³• ==========\n\n    /**\n     * è·å–å‹å¥½çš„é”™è¯¯æ¶ˆæ¯\n     */\n    getErrorMessage(errorCode) {\n        return this.errorMessages[errorCode] || `æœªçŸ¥é”™è¯¯ (${errorCode})`;\n    }\n\n    /**\n     * åˆ¤æ–­é”™è¯¯æ˜¯å¦å¯é‡è¯•\n     */\n    shouldRetry(errorCode) {\n        const retryableErrors = ['100000', '100002', '100004', '100007'];\n        return retryableErrors.includes(errorCode);\n    }\n\n    /**\n     * è§¦å‘å›è°ƒ\n     */\n    triggerCallbacks(event, ...args) {\n        if (this.callbacks[event]) {\n            this.callbacks[event].forEach(callback => {\n                try {\n                    callback(...args);\n                } catch (error) {\n                    console.error(`[TURNSTILE] ${event} å›è°ƒæ‰§è¡Œå¤±è´¥:`, error);\n                }\n            });\n        }\n    }\n\n    /**\n     * æ˜¾ç¤ºåŠ è½½çŠ¶æ€\n     */\n    showLoadingState(container) {\n        const element = typeof container === 'string' ? document.querySelector(container) : container;\n        if (element) {\n            element.innerHTML = `\n                <div class=\"turnstile-loading\">\n                    <div class=\"loading-spinner\"></div>\n                    <div class=\"loading-text\">æ­£åœ¨åŠ è½½å®‰å…¨éªŒè¯...</div>\n                </div>\n            `;\n        }\n    }\n\n    /**\n     * éšè—åŠ è½½çŠ¶æ€\n     */\n    hideLoadingState(container) {\n        const element = typeof container === 'string' ? document.querySelector(container) : container;\n        if (element) {\n            const loading = element.querySelector('.turnstile-loading');\n            if (loading) {\n                loading.remove();\n            }\n        }\n    }\n\n    /**\n     * æ˜¾ç¤ºé”™è¯¯çŠ¶æ€\n     */\n    showErrorState(container, error) {\n        const element = typeof container === 'string' ? document.querySelector(container) : container;\n        if (element) {\n            element.innerHTML = `\n                <div class=\"turnstile-error\">\n                    <div class=\"error-icon\">âš ï¸</div>\n                    <div class=\"error-text\">éªŒè¯ç»„ä»¶åŠ è½½å¤±è´¥</div>\n                    <button class=\"retry-btn\" onclick=\"window.TurnstileManager.retryRender('${container}')\">é‡è¯•</button>\n                </div>\n            `;\n        }\n    }\n\n    /**\n     * é‡è¯•æ¸²æŸ“\n     */\n    async retryRender(container) {\n        this.reset();\n        this.isLoaded = false;\n        this.loadPromise = null;\n        await this.render(container);\n    }\n\n    /**\n     * é¢„åŠ è½½ï¼ˆåœ¨éœ€è¦ä¹‹å‰é¢„å…ˆåŠ è½½è„šæœ¬ï¼‰\n     */\n    async preload() {\n        if (!this.isEnabled || this.isLoaded || this.isLoading) {\n            return;\n        }\n\n        try {\n\n            await this.loadScript();\n        } catch (error) {\n            console.warn('[TURNSTILE] é¢„åŠ è½½å¤±è´¥:', error);\n        }\n    }\n}\n\n// åˆ›å»ºå…¨å±€å®ä¾‹\nwindow.TurnstileManager = new TurnstileManager();\n",
    mimeType: 'application/javascript; charset=utf-8'
  },
  '/js/app.js': {
    content: "/**\n * CDK ä¸»åº”ç”¨é€»è¾‘ - ä¼˜åŒ–ç‰ˆæœ¬ v3.0\n * é›†æˆ LinuxDoConnect è®¤è¯ + Turnstile éªŒè¯\n */\n\nconsole.log('ğŸš€ CDK App v3.0 å·²åŠ è½½ - LinuxDoConnect è®¤è¯ç‰ˆæœ¬');\n\nclass CDKApp {\n    constructor() {\n        this.currentProject = null;\n        this.currentEditProject = null;\n        this.projects = [];\n        this.importedCards = [];\n        this.authRequired = true; // å…¨ç«™éœ€è¦è®¤è¯\n        this.init();\n    }\n\n    async init() {\n        console.log('[APP] Initializing CDK App...');\n\n        // ç­‰å¾…è®¤è¯ç®¡ç†å™¨åˆå§‹åŒ–\n        if (window.AuthManager) {\n            const authenticated = await window.AuthManager.init();\n\n            if (!authenticated) {\n                console.log('[APP] User not authenticated');\n                // æ‰€æœ‰é¡µé¢éƒ½éœ€è¦ç™»å½•\n                if (this.authRequired) {\n                    console.log('[APP] Redirecting to login...');\n                    this.showLoginPage();\n                    return;\n                }\n            } else {\n                console.log('[APP] User authenticated:', window.AuthManager.getCurrentUser()?.username);\n                // ç”¨æˆ·å·²è®¤è¯,ç»§ç»­åˆå§‹åŒ–åº”ç”¨\n            }\n        }\n\n        // æ£€æŸ¥ Turnstile é…ç½®ï¼ˆä¸åŠ è½½è„šæœ¬ï¼‰\n        await this.checkTurnstileConfig();\n\n        this.bindEvents();\n        this.setupCardImport();\n        this.handleUrlParams();\n        this.loadProjects();\n    }\n\n    // æ˜¾ç¤ºç™»å½•é¡µé¢\n    showLoginPage() {\n        console.log('[APP] Showing login page');\n        showPage('#login-page');\n        // æ˜¾ç¤ºç™»å½•æŒ‰é’®\n        if (window.AuthManager) {\n            window.AuthManager.showLoginButton();\n        }\n    }\n\n    // æ£€æŸ¥ Turnstile é…ç½®\n    async checkTurnstileConfig() {\n        try {\n            console.log('[APP] æ­£åœ¨æ£€æŸ¥ Turnstile é…ç½®... (ä¼˜åŒ–ç‰ˆæœ¬ v2.0)');\n            const success = await window.TurnstileManager.checkConfig();\n\n            if (success) {\n                console.log('[APP] Turnstile é…ç½®æ£€æŸ¥å®Œæˆ');\n            } else {\n                console.log('[APP] Turnstile é…ç½®æ£€æŸ¥å¤±è´¥');\n            }\n        } catch (error) {\n            console.error('[APP] Turnstile é…ç½®æ£€æŸ¥å¤±è´¥:', error);\n        }\n    }\n\n    // æ˜¾ç¤ºé¢†å–é¡µé¢çš„ Turnstile ç»„ä»¶\n    async showClaimTurnstileWidget() {\n        if (!window.TurnstileManager.isEnabled) {\n            console.log('[APP] Turnstile æœªå¯ç”¨ï¼Œè·³è¿‡éªŒè¯');\n            return true;\n        }\n\n        const container = $('#claim-turnstile-container');\n        if (container) {\n            container.style.display = 'block';\n            container.classList.add('show');\n\n            try {\n                // æŒ‰éœ€åŠ è½½å¹¶æ¸²æŸ“ Turnstile ç»„ä»¶\n                const widgetId = await window.TurnstileManager.render('#claim-turnstile-widget');\n                return !!widgetId;\n            } catch (error) {\n                console.error('[APP] Turnstile æ¸²æŸ“å¤±è´¥:', error);\n                return false;\n            }\n        }\n        return false;\n    }\n\n    // éšè—é¢†å–é¡µé¢çš„ Turnstile ç»„ä»¶\n    hideClaimTurnstileWidget() {\n        const container = $('#claim-turnstile-container');\n        if (container) {\n            container.style.display = 'none';\n            container.classList.remove('show');\n        }\n\n        // ç§»é™¤ Turnstile ç»„ä»¶\n        window.TurnstileManager.remove();\n    }\n\n    bindEvents() {\n        // å¯¼èˆªäº‹ä»¶\n        $('#nav-home')?.addEventListener('click', () => this.showHomePage());\n        $('#nav-admin')?.addEventListener('click', () => this.showAdminPage());\n\n        // é¦–é¡µæŒ‰é’®\n        $('#btn-create-project')?.addEventListener('click', () => this.showCreatePage());\n        $('#btn-manage-projects')?.addEventListener('click', () => this.showManagePage());\n\n        // è¿”å›é¦–é¡µæŒ‰é’®\n        $('#btn-back-home')?.addEventListener('click', () => this.showHomePage());\n        $('#btn-back-home-2')?.addEventListener('click', () => this.showHomePage());\n\n        // åˆ›å»ºé¡¹ç›®è¡¨å•\n        $('#create-form')?.addEventListener('submit', (e) => this.handleCreateProject(e));\n        $('#btn-clear-form')?.addEventListener('click', () => this.clearCreateForm());\n\n        // å¡å¯†è¾“å…¥ç›‘å¬å·²ç§»é™¤ï¼Œåªåœ¨å¯¼å…¥æ—¶æ›´æ–°è®¡æ•°\n\n        // æ ¼å¼åˆ‡æ¢æ ‡ç­¾\n        $$('.tab-btn').forEach(btn => {\n            btn.addEventListener('click', (e) => this.handleFormatChange(e));\n        });\n\n        // å¯†ç éªŒè¯è¡¨å•\n        $('#verify-form')?.addEventListener('submit', (e) => this.handlePasswordVerify(e));\n\n        // é¢†å–ç›¸å…³æŒ‰é’®\n        $('#btn-copy-card')?.addEventListener('click', () => this.copyClaimedCard());\n        $('#btn-retry')?.addEventListener('click', () => this.showPasswordForm());\n\n        // ç©ºçŠ¶æ€æŒ‰é’®\n        $('#btn-create-first')?.addEventListener('click', () => this.showCreatePage());\n    }\n\n    handleUrlParams() {\n        const params = getUrlParams();\n\n        // å¦‚æœæœ‰é¡¹ç›®IDå‚æ•°ï¼Œæ˜¾ç¤ºé¢†å–é¡µé¢\n        if (params.project) {\n            this.showClaimPage(params.project);\n        } else {\n            // æ²¡æœ‰å‚æ•°ï¼Œæ˜¾ç¤ºé¦–é¡µ\n            this.showHomePage();\n        }\n    }\n\n    // é¡µé¢åˆ‡æ¢æ–¹æ³•\n    async showHomePage() {\n        // æ£€æŸ¥è®¤è¯\n        if (this.authRequired && !await this.checkAuth()) {\n            return;\n        }\n        showPage('#home-page');\n        setUrlParams({ project: null });\n    }\n\n    async showCreatePage() {\n        // æ£€æŸ¥è®¤è¯\n        if (this.authRequired && !await this.checkAuth()) {\n            return;\n        }\n        showPage('#create-page');\n        this.clearCreateForm();\n    }\n\n    async showManagePage() {\n        // æ£€æŸ¥è®¤è¯\n        if (this.authRequired && !await this.checkAuth()) {\n            return;\n        }\n        showPage('#manage-page');\n        this.loadProjects();\n    }\n\n    async showAdminPage() {\n        // æ£€æŸ¥è®¤è¯å’Œç®¡ç†å‘˜æƒé™\n        if (this.authRequired && !await this.checkAuth()) {\n            return;\n        }\n\n        if (!window.AuthManager || !window.AuthManager.checkIsAdmin()) {\n            showToast('éœ€è¦ç®¡ç†å‘˜æƒé™', 'error');\n            this.showHomePage();\n            return;\n        }\n\n        showPage('#admin-page');\n        await this.loadAdminData();\n    }\n\n    // æ£€æŸ¥è®¤è¯çŠ¶æ€\n    async checkAuth() {\n        if (!window.AuthManager) {\n            console.error('[APP] AuthManager not available');\n            return false;\n        }\n\n        const authenticated = await window.AuthManager.checkAuth();\n\n        if (!authenticated) {\n            console.log('[APP] Not authenticated, redirecting to login');\n            await window.AuthManager.redirectToLogin();\n            return false;\n        }\n\n        return true;\n    }\n\n    async showClaimPage(projectId) {\n        showPage('#claim-page');\n        this.currentProject = projectId;\n        this.showPasswordForm();\n        setUrlParams({ project: projectId });\n\n        // æ˜¾ç¤º Turnstile éªŒè¯ç»„ä»¶\n        await this.showClaimTurnstileWidget();\n    }\n\n    // åˆ›å»ºé¡¹ç›®ç›¸å…³æ–¹æ³•\n    clearCreateForm() {\n        clearForm('#create-form');\n        // é‡ç½®æ ¼å¼æ ‡ç­¾\n        $$('.tab-btn').forEach(btn => btn.classList.remove('active'));\n        $('.tab-btn[data-format=\"text\"]')?.classList.add('active');\n        this.updateCardsPlaceholder('text');\n        // æ¸…ç©ºå¯¼å…¥çš„å¡å¯†åˆ—è¡¨\n        this.importedCards = [];\n        this.displayImportedCards();\n        this.updateCardsCount();\n    }\n\n    handleFormatChange(e) {\n        e.preventDefault();\n        const format = e.target.dataset.format;\n\n        // æ›´æ–°æ ‡ç­¾çŠ¶æ€\n        $$('.tab-btn').forEach(btn => btn.classList.remove('active'));\n        e.target.classList.add('active');\n\n        // æ›´æ–°å ä½ç¬¦\n        this.updateCardsPlaceholder(format);\n\n        // æ›´æ–°å¡å¯†è®¡æ•°\n        this.updateCardsCount();\n    }\n\n    updateCardsPlaceholder(format) {\n        const textarea = $('#cards-input');\n        if (!textarea) return;\n\n        const placeholders = {\n            text: 'è¯·è¾“å…¥å¡å¯†å†…å®¹ï¼Œæ¯è¡Œä¸€ä¸ªå¡å¯†\\nä¾‹å¦‚ï¼š\\nABCD-1234-EFGH\\nIJKL-5678-MNOP',\n            csv: 'è¯·è¾“å…¥å¡å¯†å†…å®¹ï¼Œç”¨é€—å·åˆ†éš”\\nä¾‹å¦‚ï¼šABCD-1234-EFGH,IJKL-5678-MNOP,QRST-9012-UVWX',\n            json: 'è¯·è¾“å…¥JSONæ ¼å¼çš„å¡å¯†å†…å®¹\\nä¾‹å¦‚ï¼š\\n[\"ABCD-1234-EFGH\", \"IJKL-5678-MNOP\"]\\næˆ–ï¼š\\n[{\"user\":\"test1\",\"pass\":\"123\"}, {\"user\":\"test2\",\"pass\":\"456\"}]'\n        };\n\n        textarea.placeholder = placeholders[format] || placeholders.text;\n    }\n\n    async handleCreateProject(e) {\n        e.preventDefault();\n\n        if (!validateForm('#create-form')) {\n            showToast('è¯·å¡«å†™æ‰€æœ‰å¿…å¡«å­—æ®µ', 'error');\n            return;\n        }\n\n        try {\n            const name = $('#project-name').value.trim();\n            const password = $('#project-password').value;\n            const adminPassword = $('#admin-password').value;\n            const description = $('#project-description').value.trim();\n            const cardsInput = $('#cards-input').value.trim();\n            const removeDuplicatesChecked = $('#remove-duplicates').checked;\n\n            // è·å–å½“å‰é€‰ä¸­çš„æ ¼å¼\n            const activeTab = $('.tab-btn.active');\n            const format = activeTab ? activeTab.dataset.format : 'text';\n\n            // åªä½¿ç”¨å·²å¯¼å…¥åˆ—è¡¨çš„å¡å¯†æ•°æ®\n            let cards = [];\n\n            // åªä½¿ç”¨å¯¼å…¥åˆ—è¡¨ä¸­çš„å¡å¯†\n            if (this.importedCards && this.importedCards.length > 0) {\n                cards = [...this.importedCards]; // å¤åˆ¶æ•°ç»„\n            }\n\n            if (cards.length === 0) {\n                showToast('è¯·å…ˆå¯¼å…¥å¡å¯†æ•°æ®', 'error');\n                return;\n            }\n\n            // å»é‡å¤„ç†\n            if (removeDuplicatesChecked) {\n                const originalCount = cards.length;\n                cards = removeDuplicates(cards);\n                if (cards.length < originalCount) {\n                    showToast(`å·²å»é™¤ ${originalCount - cards.length} ä¸ªé‡å¤å¡å¯†`, 'info');\n                }\n            }\n\n            // è·å–é¢†å–é™åˆ¶è®¾ç½®\n            const limitOnePerUser = $('#limit-one-per-user').checked;\n\n            // åˆ›å»ºé¡¹ç›®\n            const projectData = {\n                name,\n                password,\n                adminPassword,\n                description: description || undefined,\n                limitOnePerUser,\n                cards\n            };\n\n            // é¡¹ç›®åˆ›å»ºä¸éœ€è¦ Turnstile éªŒè¯\n\n            const result = await API.projects.create(projectData);\n            \n            if (result.success) {\n                showToast('é¡¹ç›®åˆ›å»ºæˆåŠŸ', 'success');\n                this.clearCreateForm();\n                this.showManagePage();\n            }\n\n        } catch (error) {\n            // é”™è¯¯å·²åœ¨ API å±‚å¤„ç†\n        }\n    }\n\n    // é¡¹ç›®ç®¡ç†ç›¸å…³æ–¹æ³•\n    async loadProjects() {\n        try {\n            show('#projects-loading');\n            hide('#projects-list');\n            hide('#projects-empty');\n\n            const result = await API.projects.list();\n            \n            if (result.success) {\n                this.projects = result.data || [];\n                this.renderProjects();\n            }\n\n        } catch (error) {\n            // é”™è¯¯å·²åœ¨ API å±‚å¤„ç†\n            this.projects = [];\n            this.renderProjects();\n        } finally {\n            hide('#projects-loading');\n        }\n    }\n\n    renderProjects() {\n        const container = $('#projects-list');\n        const emptyState = $('#projects-empty');\n\n        if (this.projects.length === 0) {\n            hide(container);\n            show(emptyState);\n            return;\n        }\n\n        hide(emptyState);\n        show(container);\n\n        container.innerHTML = this.projects.map(project => this.renderProjectCard(project)).join('');\n\n        // ç»‘å®šé¡¹ç›®å¡ç‰‡äº‹ä»¶\n        this.bindProjectCardEvents();\n    }\n\n    renderProjectCard(project) {\n        const remainingCards = project.totalCards - project.claimedCards;\n        const progressPercent = project.totalCards > 0 ? \n            Math.round((project.claimedCards / project.totalCards) * 100) : 0;\n\n        return `\n            <div class=\"project-card\" data-project-id=\"${project.id}\">\n                <div class=\"project-header\">\n                    <div>\n                        <div class=\"project-title\">${project.name}</div>\n                        <div class=\"project-description\">${project.description || 'æ— æè¿°'}</div>\n                    </div>\n                    <div class=\"project-status ${project.isActive ? 'status-active' : 'status-inactive'}\">\n                        ${project.isActive ? 'å¯ç”¨' : 'åœç”¨'}\n                    </div>\n                </div>\n                \n                <div class=\"project-stats\">\n                    <div class=\"stat-item\">\n                        <div class=\"stat-value\">${formatNumber(project.totalCards)}</div>\n                        <div class=\"stat-label\">æ€»å¡å¯†</div>\n                    </div>\n                    <div class=\"stat-item\">\n                        <div class=\"stat-value\">${formatNumber(project.claimedCards)}</div>\n                        <div class=\"stat-label\">å·²é¢†å–</div>\n                    </div>\n                    <div class=\"stat-item\">\n                        <div class=\"stat-value\">${formatNumber(remainingCards)}</div>\n                        <div class=\"stat-label\">å‰©ä½™</div>\n                    </div>\n                </div>\n\n                <div class=\"progress-bar\">\n                    <div class=\"progress-fill\" style=\"width: ${progressPercent}%\"></div>\n                </div>\n\n                <div class=\"project-actions\">\n                    <button class=\"btn btn-primary btn-view-link\" data-project-id=\"${project.id}\">\n                        æŸ¥çœ‹é“¾æ¥\n                    </button>\n                    <button class=\"btn btn-secondary btn-view-stats\" data-project-id=\"${project.id}\">\n                        æŸ¥çœ‹ç»Ÿè®¡\n                    </button>\n                    <button class=\"btn btn-secondary btn-edit-project\" data-project-id=\"${project.id}\">\n                        ç¼–è¾‘\n                    </button>\n                    <button class=\"btn btn-danger btn-delete-project\" data-project-id=\"${project.id}\">\n                        åˆ é™¤\n                    </button>\n                </div>\n\n                <div class=\"project-meta\">\n                    <small>åˆ›å»ºæ—¶é—´: ${formatDate(project.createdAt)}</small>\n                </div>\n            </div>\n        `;\n    }\n\n    bindProjectCardEvents() {\n        // æŸ¥çœ‹é“¾æ¥æŒ‰é’®\n        $$('.btn-view-link').forEach(btn => {\n            btn.addEventListener('click', (e) => {\n                const projectId = e.target.dataset.projectId;\n                this.showProjectLink(projectId);\n            });\n        });\n\n        // æŸ¥çœ‹ç»Ÿè®¡æŒ‰é’®\n        $$('.btn-view-stats').forEach(btn => {\n            btn.addEventListener('click', (e) => {\n                const projectId = e.target.dataset.projectId;\n                this.showProjectStats(projectId);\n            });\n        });\n\n        // ç¼–è¾‘é¡¹ç›®æŒ‰é’®\n        $$('.btn-edit-project').forEach(btn => {\n            btn.addEventListener('click', (e) => {\n                const projectId = e.target.dataset.projectId;\n                this.editProject(projectId);\n            });\n        });\n\n        // åˆ é™¤é¡¹ç›®æŒ‰é’®\n        $$('.btn-delete-project').forEach(btn => {\n            btn.addEventListener('click', (e) => {\n                const projectId = e.target.dataset.projectId;\n                this.deleteProject(projectId);\n            });\n        });\n    }\n\n    showProjectLink(projectId) {\n        const project = this.projects.find(p => p.id === projectId);\n        if (!project) return;\n\n        const baseUrl = window.location.origin + window.location.pathname;\n        const projectUrl = `${baseUrl}?project=${projectId}`;\n\n        const message = `é¡¹ç›®é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼š\\n${projectUrl}`;\n        copyToClipboard(projectUrl);\n        alert(message);\n    }\n\n    async showProjectStats(projectId) {\n        // æ˜¾ç¤ºç®¡ç†å¯†ç è¾“å…¥å¯¹è¯æ¡†\n        this.showAdminPasswordModal(projectId, async (adminPassword) => {\n            try {\n                const result = await API.projects.getStats(projectId, adminPassword);\n                if (result.success) {\n                    this.displayStatsModal(result.data);\n                }\n            } catch (error) {\n                // é”™è¯¯å·²åœ¨ API å±‚å¤„ç†\n            }\n        });\n    }\n\n    displayStatsModal(stats) {\n        const modal = document.createElement('div');\n        modal.className = 'modal-overlay';\n        modal.innerHTML = `\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h3>é¡¹ç›®ç»Ÿè®¡</h3>\n                    <button class=\"modal-close\">&times;</button>\n                </div>\n                <div class=\"modal-body\">\n                    <div class=\"stats-summary\">\n                        <div class=\"stat-item\">\n                            <div class=\"stat-value\">${formatNumber(stats.totalCards)}</div>\n                            <div class=\"stat-label\">æ€»å¡å¯†æ•°</div>\n                        </div>\n                        <div class=\"stat-item\">\n                            <div class=\"stat-value\">${formatNumber(stats.claimedCards)}</div>\n                            <div class=\"stat-label\">å·²é¢†å–</div>\n                        </div>\n                        <div class=\"stat-item\">\n                            <div class=\"stat-value\">${formatNumber(stats.remainingCards)}</div>\n                            <div class=\"stat-label\">å‰©ä½™</div>\n                        </div>\n                    </div>\n                    \n                    <div class=\"claim-history\">\n                        <h4>é¢†å–è®°å½•</h4>\n                        ${stats.claimHistory.length > 0 ?\n                            stats.claimHistory.map(record => `\n                                <div class=\"claim-record\">\n                                    <div class=\"claim-time\">${formatDate(record.claimedAt)}</div>\n                                    <div class=\"claim-user\">${record.username || 'æœªçŸ¥ç”¨æˆ·'}</div>\n                                    <div class=\"claim-card\">${record.cardContent}</div>\n                                </div>\n                            `).join('') :\n                            '<p>æš‚æ— é¢†å–è®°å½•</p>'\n                        }\n                    </div>\n                </div>\n            </div>\n        `;\n\n        document.body.appendChild(modal);\n\n        // ç»‘å®šå…³é—­äº‹ä»¶\n        modal.querySelector('.modal-close').addEventListener('click', () => {\n            document.body.removeChild(modal);\n            // åˆ·æ–°é¡¹ç›®åˆ—è¡¨ä»¥æ˜¾ç¤ºæ›´æ–°åçš„ç»Ÿè®¡æ•°æ®\n            this.loadProjects();\n        });\n\n        modal.addEventListener('click', (e) => {\n            if (e.target === modal) {\n                document.body.removeChild(modal);\n                // åˆ·æ–°é¡¹ç›®åˆ—è¡¨ä»¥æ˜¾ç¤ºæ›´æ–°åçš„ç»Ÿè®¡æ•°æ®\n                this.loadProjects();\n            }\n        });\n    }\n\n    showAdminPasswordModal(projectId, onSuccess) {\n        const modal = document.createElement('div');\n        modal.className = 'modal-overlay';\n        modal.innerHTML = `\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h3>éªŒè¯ç®¡ç†å¯†ç </h3>\n                    <button class=\"modal-close\">&times;</button>\n                </div>\n                <div class=\"modal-body\">\n                    <form id=\"admin-password-form\">\n                        <div class=\"form-group\">\n                            <label for=\"admin-password-input\">ç®¡ç†å¯†ç </label>\n                            <input type=\"password\" id=\"admin-password-input\" required\n                                   placeholder=\"è¯·è¾“å…¥ç®¡ç†å¯†ç \" autocomplete=\"off\">\n                        </div>\n                        <div class=\"form-actions\">\n                            <button type=\"button\" class=\"btn btn-secondary modal-cancel\">å–æ¶ˆ</button>\n                            <button type=\"submit\" class=\"btn btn-primary\">ç¡®è®¤</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        `;\n\n        document.body.appendChild(modal);\n\n        const form = modal.querySelector('#admin-password-form');\n        const input = modal.querySelector('#admin-password-input');\n        const closeModal = () => {\n            document.body.removeChild(modal);\n        };\n\n        // ç»‘å®šå…³é—­äº‹ä»¶\n        modal.querySelector('.modal-close').addEventListener('click', closeModal);\n        modal.querySelector('.modal-cancel').addEventListener('click', closeModal);\n\n        modal.addEventListener('click', (e) => {\n            if (e.target === modal) {\n                closeModal();\n            }\n        });\n\n        // ç»‘å®šè¡¨å•æäº¤äº‹ä»¶\n        form.addEventListener('submit', async (e) => {\n            e.preventDefault();\n            const adminPassword = input.value.trim();\n\n            if (!adminPassword) {\n                showToast('è¯·è¾“å…¥ç®¡ç†å¯†ç ', 'error');\n                return;\n            }\n\n            closeModal();\n            await onSuccess(adminPassword);\n        });\n\n        // è‡ªåŠ¨èšç„¦è¾“å…¥æ¡†\n        setTimeout(() => input.focus(), 100);\n    }\n\n    async editProject(projectId) {\n        const project = this.projects.find(p => p.id === projectId);\n        if (!project) return;\n\n        // å…ˆéªŒè¯ç®¡ç†å¯†ç \n        const adminPassword = prompt(`è¯·è¾“å…¥é¡¹ç›® \"${project.name}\" çš„ç®¡ç†å¯†ç ï¼š`);\n        if (!adminPassword) {\n            return; // ç”¨æˆ·å–æ¶ˆ\n        }\n\n        try {\n            // éªŒè¯ç®¡ç†å¯†ç \n            const verifyResult = await API.projects.verifyAdminPassword(projectId, adminPassword);\n            if (!verifyResult.success || !verifyResult.data.valid) {\n                showToast('ç®¡ç†å¯†ç é”™è¯¯', 'error');\n                return;\n            }\n\n            // å¯†ç æ­£ç¡®ï¼Œæ˜¾ç¤ºç¼–è¾‘æ¨¡æ€æ¡†\n            this.currentEditProject = { ...project, adminPassword };\n            await this.showEditProjectModal(projectId, adminPassword);\n        } catch (error) {\n            showToast(error.message || 'éªŒè¯ç®¡ç†å¯†ç å¤±è´¥', 'error');\n        }\n    }\n\n    async showEditProjectModal(projectId, adminPassword) {\n        const modal = $('#edit-project-modal');\n        const project = this.currentEditProject;\n\n        // è®¾ç½®é¡¹ç›®çŠ¶æ€å¼€å…³\n        const statusToggle = $('#project-status-toggle');\n        const statusText = $('#project-status-text');\n        statusToggle.checked = project.isActive;\n        statusText.textContent = project.isActive ? 'é¡¹ç›®å·²å¯ç”¨' : 'é¡¹ç›®å·²ç¦ç”¨';\n\n        // è®¾ç½®é¡¹ç›®æè¿°\n        const descriptionTextarea = $('#edit-project-description');\n        descriptionTextarea.value = project.description || '';\n\n        // æ·»åŠ çŠ¶æ€åˆ‡æ¢äº‹ä»¶\n        statusToggle.onchange = async () => {\n            await this.toggleProjectStatus(projectId, statusToggle.checked, adminPassword);\n        };\n\n        // åŠ è½½é¡¹ç›®ç»Ÿè®¡å’Œå¡å¯†åˆ—è¡¨\n        await this.loadProjectCardsForEdit(projectId, adminPassword);\n\n        // æ˜¾ç¤ºæ¨¡æ€æ¡†\n        modal.style.display = 'flex';\n    }\n\n    async loadProjectCardsForEdit(projectId, adminPassword) {\n        try {\n            const statsResult = await API.projects.getStats(projectId, adminPassword);\n            if (statsResult.success) {\n                const stats = statsResult.data;\n\n                // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯\n                $('#edit-total-cards').textContent = stats.totalCards;\n                $('#edit-claimed-cards').textContent = stats.claimedCards;\n                $('#edit-remaining-cards').textContent = stats.remainingCards;\n\n                // æ˜¾ç¤ºå¡å¯†åˆ—è¡¨\n                this.displayEditCardsList(stats.claimHistory, projectId, adminPassword);\n            }\n        } catch (error) {\n            showToast(error.message || 'åŠ è½½å¡å¯†åˆ—è¡¨å¤±è´¥', 'error');\n        }\n    }\n\n    displayEditCardsList(claimHistory, projectId, adminPassword) {\n        const listEl = $('#edit-cards-list');\n\n        if (!claimHistory || claimHistory.length === 0) {\n            listEl.innerHTML = '<p class=\"empty-state\">æš‚æ— å¡å¯†</p>';\n            return;\n        }\n\n        const html = claimHistory.map(record => {\n            const isClaimed = !!record.claimedAt;\n            const statusClass = isClaimed ? 'claimed' : 'available';\n            const statusText = isClaimed ? 'å·²é¢†å–' : 'æœªé¢†å–';\n            const deleteButton = isClaimed\n                ? ''\n                : `<button class=\"btn btn-danger btn-sm\" onclick=\"app.deleteCard('${projectId}', '${record.id}', '${adminPassword}')\">åˆ é™¤</button>`;\n\n            return `\n                <div class=\"card-item ${statusClass}\">\n                    <div class=\"card-content\">${record.cardContent}</div>\n                    <span class=\"card-status ${statusClass}\">${statusText}</span>\n                    <div class=\"card-actions\">\n                        ${deleteButton}\n                    </div>\n                </div>\n            `;\n        }).join('');\n\n        listEl.innerHTML = html;\n    }\n\n    async addNewCards() {\n        const textarea = $('#new-cards-input');\n        const cardsText = textarea.value.trim();\n\n        if (!cardsText) {\n            showToast('è¯·è¾“å…¥å¡å¯†', 'error');\n            return;\n        }\n\n        const cards = cardsText.split('\\n').map(c => c.trim()).filter(c => c);\n        if (cards.length === 0) {\n            showToast('è¯·è¾“å…¥æœ‰æ•ˆçš„å¡å¯†', 'error');\n            return;\n        }\n\n        const { id: projectId, adminPassword } = this.currentEditProject;\n\n        try {\n            const result = await API.projects.addCards(projectId, {\n                cards,\n                adminPassword,\n                removeDuplicates: true\n            });\n\n            if (result.success) {\n                showToast(`æˆåŠŸæ·»åŠ  ${result.data.added} ä¸ªå¡å¯†`, 'success');\n                textarea.value = '';\n                // é‡æ–°åŠ è½½å¡å¯†åˆ—è¡¨\n                await this.loadProjectCardsForEdit(projectId, adminPassword);\n                // é‡æ–°åŠ è½½é¡¹ç›®åˆ—è¡¨ä»¥æ›´æ–°ç»Ÿè®¡\n                await this.loadProjects();\n            }\n        } catch (error) {\n            showToast(error.message || 'æ·»åŠ å¡å¯†å¤±è´¥', 'error');\n        }\n    }\n\n    async deleteCard(projectId, cardId, adminPassword) {\n        if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå¡å¯†å—ï¼Ÿ')) {\n            return;\n        }\n\n        try {\n            const result = await API.projects.deleteCard(projectId, cardId, adminPassword);\n            if (result.success) {\n                showToast('å¡å¯†åˆ é™¤æˆåŠŸ', 'success');\n                // é‡æ–°åŠ è½½å¡å¯†åˆ—è¡¨\n                await this.loadProjectCardsForEdit(projectId, adminPassword);\n                // é‡æ–°åŠ è½½é¡¹ç›®åˆ—è¡¨ä»¥æ›´æ–°ç»Ÿè®¡\n                await this.loadProjects();\n            }\n        } catch (error) {\n            showToast(error.message || 'åˆ é™¤å¡å¯†å¤±è´¥', 'error');\n        }\n    }\n\n    async toggleProjectStatus(projectId, isActive, adminPassword) {\n        try {\n            const result = await API.projects.toggleStatus(projectId, isActive, adminPassword);\n            if (result.success) {\n                const statusText = $('#project-status-text');\n                statusText.textContent = isActive ? 'é¡¹ç›®å·²å¯ç”¨' : 'é¡¹ç›®å·²ç¦ç”¨';\n                showToast(result.data.message, 'success');\n                // æ›´æ–°å½“å‰ç¼–è¾‘é¡¹ç›®çš„çŠ¶æ€\n                this.currentEditProject.isActive = isActive;\n                // é‡æ–°åŠ è½½é¡¹ç›®åˆ—è¡¨\n                await this.loadProjects();\n            }\n        } catch (error) {\n            // æ¢å¤å¼€å…³çŠ¶æ€\n            const statusToggle = $('#project-status-toggle');\n            statusToggle.checked = !isActive;\n            showToast(error.message || 'æ›´æ–°é¡¹ç›®çŠ¶æ€å¤±è´¥', 'error');\n        }\n    }\n\n    async updateProjectDescription() {\n        if (!this.currentEditProject) return;\n\n        const descriptionTextarea = $('#edit-project-description');\n        const newDescription = descriptionTextarea.value.trim();\n        const projectId = this.currentEditProject.id;\n        const adminPassword = this.currentEditProject.adminPassword;\n\n        try {\n            const result = await API.projects.update(projectId, {\n                adminPassword,\n                description: newDescription\n            });\n\n            if (result.success) {\n                showToast('é¡¹ç›®æè¿°æ›´æ–°æˆåŠŸ', 'success');\n                // æ›´æ–°å½“å‰ç¼–è¾‘é¡¹ç›®çš„æè¿°\n                this.currentEditProject.description = newDescription;\n                // é‡æ–°åŠ è½½é¡¹ç›®åˆ—è¡¨\n                await this.loadProjects();\n            }\n        } catch (error) {\n            showToast(error.message || 'æ›´æ–°é¡¹ç›®æè¿°å¤±è´¥', 'error');\n        }\n    }\n\n    closeEditProjectModal() {\n        const modal = $('#edit-project-modal');\n        modal.style.display = 'none';\n        this.currentEditProject = null;\n    }\n\n    async deleteProject(projectId) {\n        const project = this.projects.find(p => p.id === projectId);\n        if (!project) return;\n\n        // å…ˆè¯¢é—®ç®¡ç†å¯†ç \n        const adminPassword = prompt(`è¯·è¾“å…¥é¡¹ç›® \"${project.name}\" çš„ç®¡ç†å¯†ç ï¼š`);\n        if (!adminPassword) {\n            return; // ç”¨æˆ·å–æ¶ˆ\n        }\n\n        if (confirm(`ç¡®å®šè¦åˆ é™¤é¡¹ç›® \"${project.name}\" å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚`)) {\n            try {\n                const result = await API.projects.delete(projectId, { adminPassword });\n                if (result.success) {\n                    showToast('é¡¹ç›®åˆ é™¤æˆåŠŸ', 'success');\n                    this.loadProjects();\n                }\n            } catch (error) {\n                // ç‰¹æ®Šå¤„ç†ç®¡ç†å¯†ç é”™è¯¯\n                if (error.message.includes('ç®¡ç†å¯†ç é”™è¯¯') || error.message.includes('401')) {\n                    showToast('ç®¡ç†å¯†ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥', 'error');\n                } else {\n                    showToast(error.message || 'åˆ é™¤é¡¹ç›®å¤±è´¥', 'error');\n                }\n            }\n        }\n    }\n\n    // å¡å¯†é¢†å–ç›¸å…³æ–¹æ³•\n    showPasswordForm() {\n        hide('#claim-result');\n        show('#password-form');\n        $('#claim-password').value = '';\n        $('#claim-password').focus();\n    }\n\n    async handlePasswordVerify(e) {\n        e.preventDefault();\n\n        const password = $('#claim-password').value;\n        if (!password) {\n            showToast('è¯·è¾“å…¥å¯†ç ', 'error');\n            return;\n        }\n\n        try {\n            const result = await API.claim.verifyPassword(this.currentProject, password);\n\n            if (result.success && result.data.valid) {\n                // å¯†ç æ­£ç¡®ï¼Œå°è¯•é¢†å–å¡å¯†\n                await this.attemptClaimCard(password);\n            } else {\n                showToast('å¯†ç é”™è¯¯', 'error');\n                $('#claim-password').value = '';\n                $('#claim-password').focus();\n            }\n\n        } catch (error) {\n            // é”™è¯¯å·²åœ¨ API å±‚å¤„ç†\n        }\n    }\n\n    async attemptClaimCard(password) {\n        try {\n            // æ£€æŸ¥ Turnstile éªŒè¯\n            if (window.TurnstileManager.isEnabled && !window.TurnstileManager.isVerified()) {\n                showToast('è¯·å®Œæˆå®‰å…¨éªŒè¯', 'error');\n                return;\n            }\n\n            // å‡†å¤‡è¯·æ±‚æ•°æ®\n            const claimData = { password };\n\n            // æ·»åŠ  Turnstile éªŒè¯æ•°æ®\n            if (window.TurnstileManager.isEnabled) {\n                const turnstileData = window.TurnstileManager.getVerificationData();\n                Object.assign(claimData, turnstileData);\n            }\n\n            const result = await API.claim.claimCard(this.currentProject, claimData);\n\n            if (result.success && result.data.success) {\n                this.showClaimSuccess(result.data);\n                // éšè— Turnstile ç»„ä»¶\n                this.hideClaimTurnstileWidget();\n            } else {\n                this.showClaimError(result.data.message || 'é¢†å–å¤±è´¥');\n                // é‡ç½® Turnstile\n                window.TurnstileManager.reset();\n            }\n\n        } catch (error) {\n            this.showClaimError('é¢†å–å¤±è´¥ï¼Œè¯·é‡è¯•');\n            // é‡ç½® Turnstile\n            window.TurnstileManager.reset();\n        }\n    }\n\n    showClaimSuccess(claimData) {\n        hide('#password-form');\n        show('#claim-result');\n        show('#claim-success');\n        hide('#claim-error');\n\n        const cardDisplay = $('#claimed-card');\n        if (cardDisplay) {\n            cardDisplay.textContent = claimData.card;\n        }\n\n        // å¦‚æœæ˜¯é‡å¤é¢†å–ï¼Œæ˜¾ç¤ºæç¤º\n        if (claimData.alreadyClaimed) {\n            showToast('æ‚¨ä¹‹å‰å·²ç»é¢†å–è¿‡äº†', 'info');\n        } else {\n            showToast('é¢†å–æˆåŠŸï¼', 'success');\n        }\n    }\n\n    showClaimError(message) {\n        hide('#password-form');\n        show('#claim-result');\n        hide('#claim-success');\n        show('#claim-error');\n\n        const errorMessage = $('#error-message');\n        if (errorMessage) {\n            errorMessage.textContent = message;\n        }\n    }\n\n    copyClaimedCard() {\n        const cardDisplay = $('#claimed-card');\n        if (cardDisplay && cardDisplay.textContent) {\n            copyToClipboard(cardDisplay.textContent);\n        }\n    }\n\n    // è®¾ç½®å¡å¯†å¯¼å…¥åŠŸèƒ½\n    setupCardImport() {\n        // åˆå§‹åŒ–è®¡æ•°\n        this.updateCardsCount();\n    }\n\n    // å¤„ç†å¡å¯†å¯¼å…¥ï¼ˆè§£ææ–‡æœ¬æ¡†å†…å®¹ï¼‰\n    handleCardImport() {\n        const cardsInput = $('#cards-input');\n        if (!cardsInput) return;\n\n        const content = cardsInput.value.trim();\n        if (!content) {\n            this.showMessage('è¯·å…ˆè¾“å…¥å¡å¯†å†…å®¹', 'warning');\n            return;\n        }\n\n        // æ ¹æ®å½“å‰æ ¼å¼è§£æå†…å®¹\n        const activeTab = $('.tab-btn.active');\n        const format = activeTab?.dataset.format || 'text';\n\n        let cards = [];\n        let errorMessage = '';\n\n        try {\n            switch (format) {\n                case 'text':\n                    cards = content.split('\\n')\n                        .map(line => line.trim())\n                        .filter(line => line);\n                    break;\n\n                case 'csv':\n                    cards = content.split(/[,ï¼Œ]/)\n                        .map(item => item.trim())\n                        .filter(item => item);\n                    break;\n\n                case 'json':\n                    const parsed = JSON.parse(content);\n                    if (Array.isArray(parsed)) {\n                        cards = parsed;\n                    } else {\n                        cards = [parsed];\n                    }\n                    break;\n\n                default:\n                    cards = content.split('\\n')\n                        .map(line => line.trim())\n                        .filter(line => line);\n            }\n\n            // å»é‡å¤„ç†\n            const removeDuplicates = $('#remove-duplicates')?.checked;\n            if (removeDuplicates) {\n                const originalCount = cards.length;\n                cards = [...new Set(cards.map(card =>\n                    typeof card === 'string' ? card : JSON.stringify(card)\n                ))].map(card => {\n                    try {\n                        return JSON.parse(card);\n                    } catch {\n                        return card;\n                    }\n                });\n                const duplicateCount = originalCount - cards.length;\n                if (duplicateCount > 0) {\n                    this.showMessage(`å·²å»é™¤ ${duplicateCount} æ¡é‡å¤å¡å¯†`, 'info');\n                }\n            }\n\n            // å­˜å‚¨åˆ°å†…å­˜ï¼ˆè¿™é‡Œå¯ä»¥æ‰©å±•ä¸ºå­˜å‚¨åˆ°å˜é‡æˆ–è¿›è¡Œå…¶ä»–å¤„ç†ï¼‰\n            this.importedCards = cards;\n\n            this.showMessage(`æˆåŠŸå¯¼å…¥ ${cards.length} æ¡å¡å¯†`, 'success');\n            this.updateCardsCount();\n            this.displayImportedCards();\n\n        } catch (error) {\n            errorMessage = `è§£æå¤±è´¥ï¼š${error.message}`;\n            this.showMessage(errorMessage, 'error');\n        }\n    }\n\n    // æ˜¾ç¤ºå¯¼å…¥çš„å¡å¯†åˆ—è¡¨\n    displayImportedCards() {\n        const listContainer = $('#imported-cards-list');\n        const cardsContainer = $('#cards-container');\n        const countSpan = $('#imported-count');\n\n        if (!listContainer || !cardsContainer || !countSpan) return;\n\n        if (!this.importedCards || this.importedCards.length === 0) {\n            listContainer.style.display = 'none';\n            return;\n        }\n\n        // æ˜¾ç¤ºåˆ—è¡¨å®¹å™¨\n        listContainer.style.display = 'block';\n\n        // æ›´æ–°è®¡æ•°\n        countSpan.textContent = this.importedCards.length;\n\n        // æ¸…ç©ºç°æœ‰å†…å®¹\n        cardsContainer.innerHTML = '';\n\n        // ç”Ÿæˆå¡å¯†é¡¹\n        this.importedCards.forEach((card, index) => {\n            const cardItem = document.createElement('div');\n            cardItem.className = 'card-item';\n            cardItem.innerHTML = `\n                <div class=\"card-content\">${this.escapeHtml(String(card))}</div>\n                <button class=\"card-delete\" onclick=\"window.app.deleteImportedCard(${index})\">åˆ é™¤</button>\n            `;\n            cardsContainer.appendChild(cardItem);\n        });\n    }\n\n    // åˆ é™¤å•ä¸ªå¯¼å…¥çš„å¡å¯†\n    deleteImportedCard(index) {\n        if (!this.importedCards || index < 0 || index >= this.importedCards.length) {\n            return;\n        }\n\n        // ä»æ•°ç»„ä¸­åˆ é™¤\n        this.importedCards.splice(index, 1);\n\n        // é‡æ–°æ˜¾ç¤ºåˆ—è¡¨\n        this.displayImportedCards();\n\n        // æ›´æ–°è®¡æ•°\n        this.updateCardsCount();\n\n        this.showMessage('å·²åˆ é™¤å¡å¯†', 'info');\n    }\n\n    // æ¸…ç©ºæ‰€æœ‰å¯¼å…¥çš„å¡å¯†\n    clearImportedCards() {\n        if (!this.importedCards || this.importedCards.length === 0) {\n            this.showMessage('æ²¡æœ‰å¯æ¸…ç©ºçš„å¡å¯†', 'warning');\n            return;\n        }\n\n        if (confirm(`ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ ${this.importedCards.length} æ¡å¯¼å…¥çš„å¡å¯†å—ï¼Ÿ`)) {\n            this.importedCards = [];\n            this.displayImportedCards();\n            this.updateCardsCount();\n            this.showMessage('å·²æ¸…ç©ºæ‰€æœ‰å¯¼å…¥çš„å¡å¯†', 'info');\n        }\n    }\n\n    // HTML è½¬ä¹‰å‡½æ•°\n    escapeHtml(text) {\n        const div = document.createElement('div');\n        div.textContent = text;\n        return div.innerHTML;\n    }\n\n    // æ›´æ–°å¡å¯†è®¡æ•°\n    updateCardsCount() {\n        const countDisplay = $('#cardsCount');\n\n        if (!countDisplay) return;\n\n        // åªè®¡ç®—å¯¼å…¥åˆ—è¡¨ä¸­çš„å¡å¯†æ•°é‡\n        const importedCount = this.importedCards ? this.importedCards.length : 0;\n\n        if (importedCount === 0) {\n            countDisplay.textContent = '0 æ¡å¡å¯†';\n        } else {\n            countDisplay.textContent = `${importedCount} æ¡å¡å¯† (å·²å¯¼å…¥)`;\n        }\n    }\n\n    // æ˜¾ç¤ºæ¶ˆæ¯æç¤º\n    showMessage(message, type = 'info') {\n        // åˆ›å»ºæ¶ˆæ¯å…ƒç´ \n        const messageEl = document.createElement('div');\n        messageEl.className = `message message-${type}`;\n        messageEl.textContent = message;\n\n        // æ·»åŠ æ ·å¼\n        messageEl.style.cssText = `\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            padding: 12px 20px;\n            border-radius: 4px;\n            color: white;\n            font-weight: 500;\n            z-index: 10000;\n            max-width: 300px;\n            word-wrap: break-word;\n            animation: slideInRight 0.3s ease;\n        `;\n\n        // æ ¹æ®ç±»å‹è®¾ç½®é¢œè‰²\n        switch (type) {\n            case 'success':\n                messageEl.style.backgroundColor = '#10b981';\n                break;\n            case 'error':\n                messageEl.style.backgroundColor = '#ef4444';\n                break;\n            case 'warning':\n                messageEl.style.backgroundColor = '#f59e0b';\n                break;\n            default:\n                messageEl.style.backgroundColor = '#3b82f6';\n        }\n\n        // æ·»åŠ åˆ°é¡µé¢\n        document.body.appendChild(messageEl);\n\n        // 3ç§’åè‡ªåŠ¨ç§»é™¤\n        setTimeout(() => {\n            if (messageEl.parentNode) {\n                messageEl.style.animation = 'slideOutRight 0.3s ease';\n                setTimeout(() => {\n                    messageEl.remove();\n                }, 300);\n            }\n        }, 3000);\n    }\n}\n\n// åˆå§‹åŒ–åº”ç”¨\ndocument.addEventListener('DOMContentLoaded', () => {\n    window.app = new CDKApp();\n});\n\n// æ·»åŠ æ¨¡æ€æ¡†æ ·å¼\nconst modalStyles = `\n<style>\n.modal-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.5);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n}\n\n.modal-content {\n    background: white;\n    border-radius: var(--border-radius);\n    max-width: 600px;\n    width: 90%;\n    max-height: 80vh;\n    overflow-y: auto;\n}\n\n.modal-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1.5rem;\n    border-bottom: 1px solid var(--border-color);\n}\n\n.modal-header h3 {\n    margin: 0;\n    color: var(--dark-color);\n}\n\n.modal-close {\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    cursor: pointer;\n    color: var(--secondary-color);\n    padding: 0;\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.modal-close:hover {\n    color: var(--dark-color);\n}\n\n.modal-body {\n    padding: 1.5rem;\n}\n\n.stats-summary {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 1rem;\n    margin-bottom: 2rem;\n    text-align: center;\n}\n\n.claim-history h4 {\n    margin-bottom: 1rem;\n    color: var(--dark-color);\n}\n\n.claim-record {\n    display: grid;\n    grid-template-columns: auto auto 1fr;\n    gap: 1rem;\n    padding: 0.75rem;\n    border: 1px solid var(--border-color);\n    border-radius: var(--border-radius);\n    margin-bottom: 0.5rem;\n    font-size: 0.875rem;\n}\n\n.claim-time {\n    color: var(--secondary-color);\n}\n\n.claim-user {\n    font-weight: 500;\n    color: var(--info-color);\n}\n\n.claim-card {\n    font-family: monospace;\n    word-break: break-all;\n}\n\n.progress-bar {\n    width: 100%;\n    height: 8px;\n    background: var(--light-color);\n    border-radius: 4px;\n    overflow: hidden;\n    margin: 1rem 0;\n}\n\n.progress-fill {\n    height: 100%;\n    background: var(--primary-color);\n    transition: width 0.3s ease;\n}\n\n.project-meta {\n    margin-top: 1rem;\n    padding-top: 1rem;\n    border-top: 1px solid var(--border-color);\n    color: var(--secondary-color);\n    font-size: 0.875rem;\n}\n\n@media (max-width: 768px) {\n    .stats-summary {\n        grid-template-columns: repeat(2, 1fr);\n    }\n\n    .claim-record {\n        grid-template-columns: 1fr;\n        gap: 0.5rem;\n    }\n}\n</style>\n`;\n\n// æ·»åŠ æ ·å¼åˆ°é¡µé¢\ndocument.head.insertAdjacentHTML('beforeend', modalStyles);\n\n// å…¨å±€å‡½æ•°\nfunction importCards() {\n    if (window.app) {\n        window.app.handleCardImport();\n    }\n}\n\nfunction clearCards() {\n    const cardsInput = $('#cards-input');\n    if (cardsInput) {\n        if (cardsInput.value.trim() && !confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å¡å¯†å†…å®¹å—ï¼Ÿ')) {\n            return;\n        }\n        cardsInput.value = '';\n        if (window.app) {\n            window.app.importedCards = [];\n            window.app.updateCardsCount();\n            window.app.showMessage('å·²æ¸…ç©ºå¡å¯†å†…å®¹', 'info');\n        }\n    }\n}\n\nfunction clearImportedCards() {\n    if (window.app) {\n        window.app.clearImportedCards();\n    }\n}\n\n// Add admin methods to CDKApp class\nCDKApp.prototype.loadAdminData = async function() {\n    try {\n        // Load user statistics\n        const statsResponse = await API.admin.getUserStats();\n        if (statsResponse.success) {\n            const stats = statsResponse.data;\n            $('#admin-total-users').textContent = stats.totalUsers;\n            $('#admin-active-users').textContent = stats.activeUsers;\n            $('#admin-banned-users').textContent = stats.bannedUsers;\n        }\n\n        // Load users list\n        const usersResponse = await API.admin.getUsers();\n        if (usersResponse.success) {\n            this.displayUsersList(usersResponse.data);\n        }\n    } catch (error) {\n        console.error('Load admin data error:', error);\n        showToast('åŠ è½½ç®¡ç†å‘˜æ•°æ®å¤±è´¥', 'error');\n    }\n};\n\nCDKApp.prototype.displayUsersList = function(users) {\n    const usersListEl = $('#users-list');\n    const usersLoadingEl = $('#users-loading');\n\n    if (!usersListEl) {\n        return;\n    }\n\n    // Hide loading indicator\n    if (usersLoadingEl) {\n        usersLoadingEl.style.display = 'none';\n    }\n\n    if (users.length === 0) {\n        usersListEl.innerHTML = '<p class=\"empty-state\">æš‚æ— ç”¨æˆ·</p>';\n        return;\n    }\n\n    const html = users.map(user => {\n        const statusClass = user.isBanned ? 'banned' : 'active';\n        const statusText = user.isBanned ? 'å·²å°ç¦' : 'æ­£å¸¸';\n        const actionButton = user.isBanned\n            ? `<button class=\"btn btn-success btn-sm\" onclick=\"app.unbanUser('${user.userId}')\">è§£é™¤å°ç¦</button>`\n            : `<button class=\"btn btn-danger btn-sm\" onclick=\"app.banUser('${user.userId}', '${user.username}')\">å°ç¦</button>`;\n\n        const banReasonHtml = user.isBanned && user.banReason\n            ? `<div class=\"ban-reason\">å°ç¦åŸå› : ${user.banReason}</div>`\n            : '';\n\n        const avatarHtml = user.avatarUrl\n            ? `<img src=\"${user.avatarUrl}\" alt=\"${user.username}\" class=\"user-avatar-admin\">`\n            : `<div class=\"user-avatar-placeholder\">${user.username.charAt(0).toUpperCase()}</div>`;\n\n        return `\n            <div class=\"user-card ${user.isBanned ? 'banned' : ''}\">\n                ${avatarHtml}\n                <div class=\"user-info-admin\">\n                    <div class=\"user-name-admin\">${user.name || user.username}</div>\n                    <div class=\"user-username-admin\">@${user.username}</div>\n                    <div class=\"user-meta\">\n                        <span>ç”¨æˆ·ID: ${user.userId}</span>\n                        <span>æœ€åç™»å½•: ${new Date(user.lastLoginAt).toLocaleString('zh-CN')}</span>\n                    </div>\n                    <span class=\"user-status ${statusClass}\">${statusText}</span>\n                    ${banReasonHtml}\n                </div>\n                <div class=\"user-actions\">\n                    ${actionButton}\n                </div>\n            </div>\n        `;\n    }).join('');\n    usersListEl.innerHTML = html;\n};\n\nCDKApp.prototype.banUser = async function(userId, username) {\n    const reason = prompt(`ç¡®å®šè¦å°ç¦ç”¨æˆ· ${username} å—ï¼Ÿ\\nè¯·è¾“å…¥å°ç¦åŸå› (å¯é€‰):`);\n\n    if (reason === null) return; // User cancelled\n\n    try {\n        const response = await API.admin.banUser(userId, reason || undefined);\n        if (response.success) {\n            showToast(response.data.message || 'å°ç¦æˆåŠŸ', 'success');\n            await this.loadAdminData();\n        } else {\n            showToast(response.error || 'å°ç¦å¤±è´¥', 'error');\n        }\n    } catch (error) {\n        console.error('Ban user error:', error);\n        showToast('å°ç¦ç”¨æˆ·å¤±è´¥', 'error');\n    }\n};\n\nCDKApp.prototype.unbanUser = async function(userId) {\n    if (!confirm('ç¡®å®šè¦è§£é™¤å°ç¦å—ï¼Ÿ')) return;\n\n    try {\n        const response = await API.admin.unbanUser(userId);\n        if (response.success) {\n            showToast(response.data.message || 'è§£é™¤å°ç¦æˆåŠŸ', 'success');\n            await this.loadAdminData();\n        } else {\n            showToast(response.error || 'è§£é™¤å°ç¦å¤±è´¥', 'error');\n        }\n    } catch (error) {\n        console.error('Unban user error:', error);\n        showToast('è§£é™¤å°ç¦å¤±è´¥', 'error');\n    }\n};\n",
    mimeType: 'application/javascript; charset=utf-8'
  }
};

export function getStaticAsset(path: string): StaticAsset | null {
    // å¤„ç†æ ¹è·¯å¾„
    if (path === '/' || path === '') {
        return STATIC_ASSETS['/'] || null;
    }
    
    // ç›´æ¥åŒ¹é…
    if (STATIC_ASSETS[path]) {
        return STATIC_ASSETS[path];
    }
    
    // å¦‚æœè·¯å¾„ä¸ä»¥ / å¼€å¤´ï¼Œæ·»åŠ  /
    if (!path.startsWith('/')) {
        path = '/' + path;
        if (STATIC_ASSETS[path]) {
            return STATIC_ASSETS[path];
        }
    }
    
    return null;
}
